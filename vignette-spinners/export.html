<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Peter DeWitt" />

<meta name="date" content="2019-03-01" />

<title>REDCap Exporter</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">REDCap Exporter</h1>
<h4 class="author"><em>Peter DeWitt</em></h4>
<h4 class="date"><em>2019-03-01</em></h4>


<div id="TOC">
<ul>
<li><a href="#prerequisites-and-tokens"><span class="toc-section-number">1</span> Prerequisites and Tokens</a><ul>
<li><a href="#namespaces-options-and-system-environment-variables"><span class="toc-section-number">1.1</span> Namespaces, Options, and System Environment Variables</a></li>
</ul></li>
<li><a href="#general-tools"><span class="toc-section-number">2</span> General Tools</a><ul>
<li><a href="#specific-export-methods"><span class="toc-section-number">2.1</span> Specific Export Methods</a></li>
<li><a href="#data-import-tools"><span class="toc-section-number">2.2</span> Data Import Tools</a></li>
</ul></li>
<li><a href="#exporting-a-redcap-project-to-a-r-data-package."><span class="toc-section-number">3</span> Exporting a REDCap Project to a R Data Package.</a></li>
<li><a href="#session-info"><span class="toc-section-number">4</span> Session Info</a></li>
</ul>
</div>

<p>The purpose of this vignette is to show how to export a REDCap project into a R data package. There are some prerequisites, described in detail in the first section, you will need to address before running the examples.</p>
<p>The primary objective of the <em>REDCapExporter</em> is to export all the data from an REDCap project via the REDCap API and build a R data package with useful documentation and tools. The data package will make it easy to archive data and distribute data, in an analysis ready format, within a group of analysts.</p>
<p><strong>Disclaimer and Warning:</strong> It is the responsibility of the end user to protect sensitive data. Do not use <em>REDCapExporter</em> to export data onto a computer that should not have sensitive data stored on it. Further, do not distribute the resulting R package to any other machine or person who does not have data access rights.</p>
<p>For the example in this vignette we created a REDCap project storing the roster and statistics for the 2000-2001 Stanley Cup Champion Colorado Avalanche of the National Hockey League. The data was acquired from the web page <a href="https://www.hockey-reference.com/teams/COL/2001.html">Hockey Reference</a>.</p>
<div id="prerequisites-and-tokens" class="section level1">
<h1><span class="header-section-number">1</span> Prerequisites and Tokens</h1>
<p>You will need to have API Export rights for the REDCap project you are looking to export into an R data package. Contact the project owner, system admin, or go through your institution’s REDCap page to acquire an API token.</p>
<p>Remember, your API token is the equivalent of a username/password combination. Thus, you must treat the token with the same, or more, level of security you would treat any username/password combination. <strong>DO NOT PUT THE TOKEN IN PLAIN TEXT!</strong></p>
<p>There are many ways to deal with tokens. One option would be two require the end user to enter the key interactively via <a href="https://cran.r-project.org/package=getPass">getPass</a>, e.g.,</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># a_token &lt;- getPass::getPass()</span></a></code></pre></div>
<p>However, there are at least two issues with this approach:</p>
<ol style="list-style-type: decimal">
<li>It is interactive and cannot be scripted.</li>
<li>Storing the token in an object would make it possible to divulge the token, either accidentally or via malicious intent.</li>
</ol>
<p>A better way to handle API tokens is to use the <a href="https://cran.r-project.org/package=secret">secret</a>. We encourage the reader to read the “secrets” vignette. <code>vignette(topic = &quot;secrets&quot;, package = &quot;secret&quot;)</code></p>
<p>We suggest the reader set up a vault with their API token as a secret. Accessing the secret in scripts can be done non-interactively and will a lower chance of accidental or malicious divulging of a token.</p>
<p>For the rest of this vignette we will use <code>secret::get_secret()</code> to assess a REDCap API token.</p>
<div id="namespaces-options-and-system-environment-variables" class="section level2">
<h2><span class="header-section-number">1.1</span> Namespaces, Options, and System Environment Variables</h2>
<p>For this example we will load and attach the following namespaces and set several options and system environment variables.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(REDCapExporter)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">library</span>(data.table)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw">library</span>(secret)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">## Registered S3 method overwritten by 'openssl':</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">##   method      from</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">##   print.bytes Rcpp</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="kw">library</span>(qwraps2)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9"></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="kw">options</span>(<span class="st">&quot;datatable.print.topn&quot;</span>  =<span class="st"> </span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="kw">options</span>(<span class="st">&quot;datatable.print.nrows&quot;</span> =<span class="st"> </span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb2-12" data-line-number="12"></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co"># private key needed to access the vault</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="kw">Sys.setenv</span>(<span class="dt">USER_KEY =</span> <span class="st">&quot;~/.ssh/vaults&quot;</span>)</a>
<a class="sourceLine" id="cb2-15" data-line-number="15"></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co"># REDCap API uri and token</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="kw">Sys.setenv</span>(<span class="dt">REDCap_API_uri =</span> <span class="st">&quot;https://redcap.ucdenver.edu/api/&quot;</span>)</a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="kw">Sys.setenv</span>(<span class="dt">REDCap_API_TOKEN =</span> <span class="kw">get_secret</span>(<span class="st">&quot;2000_2001_Avalanche&quot;</span>))</a>
<a class="sourceLine" id="cb2-19" data-line-number="19"></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="co"># Set the option the format the data will be returned in.  Possible values are</span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="co"># 'csv', 'xml', or 'json'. The default is 'csv', set when</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="co"># qwraps2::Rpkg(REDCapExporter) is loaded.</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="kw">Sys.getenv</span>(<span class="st">&quot;REDCap_API_format&quot;</span>)</a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="co">## [1] &quot;csv&quot;</span></a></code></pre></div>
</div>
</div>
<div id="general-tools" class="section level1">
<h1><span class="header-section-number">2</span> General Tools</h1>
<p>The <em>REDCapExporter</em> package provides several functions and methods which the user may find useful. These functions and methods are used within the package to export and create a R data package. Use of the methods for specific projects, say exporting data from a REDCap project for routine reports or interim analyses.</p>
<div id="specific-export-methods" class="section level2">
<h2><span class="header-section-number">2.1</span> Specific Export Methods</h2>
<p>The method <code>export_content</code> can be used to export specific parts of a REDCap project. Three of the arguments, <code>uri</code>, <code>token</code>, and <code>format</code>, passed to <code>export_content</code>, if omitted, will default to the system environment variables. Thus, only the <code>content</code> argument must be defined by the user. Additional arguments for the API are passed via the <code>...</code>. Check your specific REDCap API documentation.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">str</span>(export_content)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">## function (uri, token, content, format, ...)</span></a></code></pre></div>
<p>For example, the project information and project metadata can be obtained via:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">avs_raw_project_info &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;project&quot;</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">avs_raw_metadata     &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;metadata&quot;</span>)</a></code></pre></div>
<p>The return object from <code>export_content</code> are character strings as you would expect from a call to <code>postForm</code> from the <a href="https://cran.r-project.org/package=RCurl"><em>RCurl</em></a> package. A couple additional attributes have been added. The <code>Sys.time</code> for the call and the class <code>rcer_raw_*</code> where <code>*</code> is replaced by the value of the <code>content</code> argument.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">str</span>(avs_raw_project_info)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">##  'rcer_raw_project' chr &quot;project_id,project_title,creation_time,production_time,in_production,project_language,purpose,purpose_other,pro&quot;| __truncated__</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">##  - attr(*, &quot;Content-Type&quot;)= Named chr [1:2] &quot;text/csv&quot; &quot;utf-8&quot;</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">##   ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;&quot; &quot;charset&quot;</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">##  - attr(*, &quot;accessed&quot;)= POSIXct[1:1], format: &quot;2019-03-01 16:05:17&quot;</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="kw">str</span>(avs_raw_metadata)</a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">##  'rcer_raw_metadata' chr &quot;field_name,form_name,section_header,field_type,field_label,select_choices_or_calculations,field_note,text_valid&quot;| __truncated__</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">##  - attr(*, &quot;Content-Type&quot;)= Named chr [1:2] &quot;text/csv&quot; &quot;utf-8&quot;</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">##   ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;&quot; &quot;charset&quot;</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">##  - attr(*, &quot;accessed&quot;)= POSIXct[1:1], format: &quot;2019-03-01 16:05:17&quot;</span></a></code></pre></div>
<p>We opted to have <code>export_content</code> return a character string such that the end user can may select the format for the return and use the tool of their choice for creating a <code>data.frame</code>. For example, creating a <code>data.table</code> from the csv or json formats.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">from_csv &lt;-<span class="st"> </span>data.table<span class="op">::</span><span class="kw">fread</span>(<span class="dt">input =</span> avs_raw_metadata, <span class="dt">colClasses =</span> <span class="st">&quot;character&quot;</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"></a>
<a class="sourceLine" id="cb6-3" data-line-number="3">from_json &lt;-</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="st">  </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;metadata&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;json&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="st">  </span>rjson<span class="op">::</span><span class="kw">fromJSON</span>(<span class="dt">json_str =</span> .) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="st">  </span><span class="kw">lapply</span>(as.data.table) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="st">  </span>rbindlist</a>
<a class="sourceLine" id="cb6-8" data-line-number="8"></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="kw">identical</span>(from_csv, from_json)</a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">## [1] TRUE</span></a></code></pre></div>
<p>A easier way to get the raw export into a  or  is to use the <code>as.data.frame</code> or <code>as.data.table</code> methods.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">csv_metadata  &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;metadata&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;csv&quot;</span>)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">json_metadata &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;metadata&quot;</span>, <span class="dt">format =</span> <span class="st">&quot;json&quot;</span>)</a>
<a class="sourceLine" id="cb7-3" data-line-number="3"></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">df_from_csv  &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(csv_metadata)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5">df_from_json &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(json_metadata)</a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="kw">identical</span>(df_from_csv, df_from_json)</a>
<a class="sourceLine" id="cb7-7" data-line-number="7"><span class="co">## [1] TRUE</span></a>
<a class="sourceLine" id="cb7-8" data-line-number="8"></a>
<a class="sourceLine" id="cb7-9" data-line-number="9">dt_from_csv  &lt;-<span class="st"> </span><span class="kw">as.data.table</span>(csv_metadata)</a>
<a class="sourceLine" id="cb7-10" data-line-number="10">dt_from_json &lt;-<span class="st"> </span><span class="kw">as.data.table</span>(json_metadata)</a>
<a class="sourceLine" id="cb7-11" data-line-number="11"><span class="kw">identical</span>(dt_from_csv, dt_from_json)</a>
<a class="sourceLine" id="cb7-12" data-line-number="12"><span class="co">## [1] TRUE</span></a></code></pre></div>
</div>
<div id="data-import-tools" class="section level2">
<h2><span class="header-section-number">2.2</span> Data Import Tools</h2>
<p>When working with REDCap data it is likely that you will have more collumns than you would want to have to code a data import method for yourself. This is especially true if you need to deal with columns that may look like numeric values but are really categorical. We provide some tools to help with the data import process.</p>
<p>First, you will need to get the project metadata and record.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1">avs_raw_metadata &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;metadata&quot;</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2">avs_raw_record   &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;record&quot;</span>)</a>
<a class="sourceLine" id="cb8-3" data-line-number="3"></a>
<a class="sourceLine" id="cb8-4" data-line-number="4">avs_metadata &lt;-<span class="st"> </span><span class="kw">as.data.table</span>(avs_raw_metadata)</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">avs_record   &lt;-<span class="st"> </span><span class="kw">as.data.table</span>(avs_raw_record)</a></code></pre></div>
<p>The function <code>col_type</code> will take the metadata and return a list of calls to set the specific storage modes of the projet record.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw">identical</span>(<span class="kw">col_type</span>(avs_raw_metadata), <span class="kw">col_type</span>(avs_metadata))</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="co">## [1] TRUE</span></a>
<a class="sourceLine" id="cb9-3" data-line-number="3"></a>
<a class="sourceLine" id="cb9-4" data-line-number="4">ct &lt;-<span class="st"> </span><span class="kw">col_type</span>(avs_metadata)</a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="kw">str</span>(ct)</a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">## List of 64</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">##  $ record_id                     : language as.character(record_id)</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">##  $ uniform_number                : language as.character(uniform_number)</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">##  $ firstname                     : language as.character(firstname)</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">##  $ lastname                      : language as.character(lastname)</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">##  $ hof                           : language as.integer(hof)</span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">##  $ nationality                   : language as.character(nationality)</span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="co">##  $ position                      : language factor(x = position, levels = c(&quot;0&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;), labels = c(&quot;Goal&quot;,  &quot;Left Wing&quot;, &quot;Right Wing&quot;, &quot;Center&quot;, &quot;Defence&quot;))</span></a>
<a class="sourceLine" id="cb9-14" data-line-number="14"><span class="co">##  $ birthdate                     : language lubridate::ymd(birthdate)</span></a>
<a class="sourceLine" id="cb9-15" data-line-number="15"><span class="co">##  $ height                        : language as.integer(height)</span></a>
<a class="sourceLine" id="cb9-16" data-line-number="16"><span class="co">##  $ weight                        : language as.integer(weight)</span></a>
<a class="sourceLine" id="cb9-17" data-line-number="17"><span class="co">##  $ shoots                        : language factor(x = shoots, levels = c(&quot;0&quot;, &quot;1&quot;), labels = c(&quot;Left&quot;, &quot;Right&quot; ))</span></a>
<a class="sourceLine" id="cb9-18" data-line-number="18"><span class="co">##  $ catches                       : language factor(x = catches, levels = c(&quot;0&quot;, &quot;1&quot;), labels = c(&quot;Left&quot;, &quot;Right&quot; ))</span></a>
<a class="sourceLine" id="cb9-19" data-line-number="19"><span class="co">##  $ experience                    : language as.integer(experience)</span></a>
<a class="sourceLine" id="cb9-20" data-line-number="20"><span class="co">##  $ gp                            : language as.integer(gp)</span></a>
<a class="sourceLine" id="cb9-21" data-line-number="21"><span class="co">##  $ goals                         : language as.integer(goals)</span></a>
<a class="sourceLine" id="cb9-22" data-line-number="22"><span class="co">##  $ assists                       : language as.integer(assists)</span></a>
<a class="sourceLine" id="cb9-23" data-line-number="23"><span class="co">##  $ points                        : language as.numeric(points)</span></a>
<a class="sourceLine" id="cb9-24" data-line-number="24"><span class="co">##  $ plusmn                        : language as.integer(plusmn)</span></a>
<a class="sourceLine" id="cb9-25" data-line-number="25"><span class="co">##  $ pimi                          : language as.integer(pimi)</span></a>
<a class="sourceLine" id="cb9-26" data-line-number="26"><span class="co">##  $ goals_ev                      : language as.integer(goals_ev)</span></a>
<a class="sourceLine" id="cb9-27" data-line-number="27"><span class="co">##  $ goals_pp                      : language as.integer(goals_pp)</span></a>
<a class="sourceLine" id="cb9-28" data-line-number="28"><span class="co">##  $ goals_sh                      : language as.integer(goals_sh)</span></a>
<a class="sourceLine" id="cb9-29" data-line-number="29"><span class="co">##  $ goals_gw                      : language as.integer(goals_gw)</span></a>
<a class="sourceLine" id="cb9-30" data-line-number="30"><span class="co">##  $ assists_ev                    : language as.integer(assists_ev)</span></a>
<a class="sourceLine" id="cb9-31" data-line-number="31"><span class="co">##  $ assists_pp                    : language as.integer(assists_pp)</span></a>
<a class="sourceLine" id="cb9-32" data-line-number="32"><span class="co">##  $ assists_sh                    : language as.integer(assists_sh)</span></a>
<a class="sourceLine" id="cb9-33" data-line-number="33"><span class="co">##  $ shots                         : language as.integer(shots)</span></a>
<a class="sourceLine" id="cb9-34" data-line-number="34"><span class="co">##  $ shooting_percentage           : language as.numeric(shooting_percentage)</span></a>
<a class="sourceLine" id="cb9-35" data-line-number="35"><span class="co">##  $ toi                           : language as.integer(toi)</span></a>
<a class="sourceLine" id="cb9-36" data-line-number="36"><span class="co">##  $ atoi                          : language as.character(atoi)</span></a>
<a class="sourceLine" id="cb9-37" data-line-number="37"><span class="co">##  $ wins                          : language as.integer(wins)</span></a>
<a class="sourceLine" id="cb9-38" data-line-number="38"><span class="co">##  $ losses                        : language as.integer(losses)</span></a>
<a class="sourceLine" id="cb9-39" data-line-number="39"><span class="co">##  $ ties_otl                      : language as.integer(ties_otl)</span></a>
<a class="sourceLine" id="cb9-40" data-line-number="40"><span class="co">##  $ goals_against                 : language as.integer(goals_against)</span></a>
<a class="sourceLine" id="cb9-41" data-line-number="41"><span class="co">##  $ shots_against                 : language as.integer(shots_against)</span></a>
<a class="sourceLine" id="cb9-42" data-line-number="42"><span class="co">##  $ saves                         : language as.integer(saves)</span></a>
<a class="sourceLine" id="cb9-43" data-line-number="43"><span class="co">##  $ save_percentage               : language as.numeric(save_percentage)</span></a>
<a class="sourceLine" id="cb9-44" data-line-number="44"><span class="co">##  $ gaa                           : language as.numeric(gaa)</span></a>
<a class="sourceLine" id="cb9-45" data-line-number="45"><span class="co">##  $ so                            : language as.integer(so)</span></a>
<a class="sourceLine" id="cb9-46" data-line-number="46"><span class="co">##  $ gp_postseason                 : language as.integer(gp_postseason)</span></a>
<a class="sourceLine" id="cb9-47" data-line-number="47"><span class="co">##  $ goals_postseason              : language as.integer(goals_postseason)</span></a>
<a class="sourceLine" id="cb9-48" data-line-number="48"><span class="co">##  $ assists_postseason            : language as.integer(assists_postseason)</span></a>
<a class="sourceLine" id="cb9-49" data-line-number="49"><span class="co">##  $ points_postseason             : language as.numeric(points_postseason)</span></a>
<a class="sourceLine" id="cb9-50" data-line-number="50"><span class="co">##  $ plusmn_postseason             : language as.integer(plusmn_postseason)</span></a>
<a class="sourceLine" id="cb9-51" data-line-number="51"><span class="co">##  $ pimi_postseason               : language as.integer(pimi_postseason)</span></a>
<a class="sourceLine" id="cb9-52" data-line-number="52"><span class="co">##  $ goals_ev_postseason           : language as.integer(goals_ev_postseason)</span></a>
<a class="sourceLine" id="cb9-53" data-line-number="53"><span class="co">##  $ goals_pp_postseason           : language as.integer(goals_pp_postseason)</span></a>
<a class="sourceLine" id="cb9-54" data-line-number="54"><span class="co">##  $ goals_sh_postseason           : language as.integer(goals_sh_postseason)</span></a>
<a class="sourceLine" id="cb9-55" data-line-number="55"><span class="co">##  $ goals_gw_postseason           : language as.integer(goals_gw_postseason)</span></a>
<a class="sourceLine" id="cb9-56" data-line-number="56"><span class="co">##  $ assists_ev_postseason         : language as.integer(assists_ev_postseason)</span></a>
<a class="sourceLine" id="cb9-57" data-line-number="57"><span class="co">##  $ assists_pp_postseason         : language as.integer(assists_pp_postseason)</span></a>
<a class="sourceLine" id="cb9-58" data-line-number="58"><span class="co">##  $ assists_sh_postseason         : language as.integer(assists_sh_postseason)</span></a>
<a class="sourceLine" id="cb9-59" data-line-number="59"><span class="co">##  $ shots_postseason              : language as.integer(shots_postseason)</span></a>
<a class="sourceLine" id="cb9-60" data-line-number="60"><span class="co">##  $ shooting_percentage_postseason: language as.numeric(shooting_percentage_postseason)</span></a>
<a class="sourceLine" id="cb9-61" data-line-number="61"><span class="co">##  $ toi_postseason                : language as.integer(toi_postseason)</span></a>
<a class="sourceLine" id="cb9-62" data-line-number="62"><span class="co">##  $ atoi_postseason               : language as.character(atoi_postseason)</span></a>
<a class="sourceLine" id="cb9-63" data-line-number="63"><span class="co">##  $ wins_postseason               : language as.integer(wins_postseason)</span></a>
<a class="sourceLine" id="cb9-64" data-line-number="64"><span class="co">##  $ losses_postseason             : language as.integer(losses_postseason)</span></a>
<a class="sourceLine" id="cb9-65" data-line-number="65"><span class="co">##  $ ties_otl_postseason           : language as.integer(ties_otl_postseason)</span></a>
<a class="sourceLine" id="cb9-66" data-line-number="66"><span class="co">##  $ goals_allowed_postseason      : language as.integer(goals_allowed_postseason)</span></a>
<a class="sourceLine" id="cb9-67" data-line-number="67"><span class="co">##  $ saves_postseason              : language as.integer(saves_postseason)</span></a>
<a class="sourceLine" id="cb9-68" data-line-number="68"><span class="co">##  $ save_percentage_postseason    : language as.numeric(save_percentage_postseason)</span></a>
<a class="sourceLine" id="cb9-69" data-line-number="69"><span class="co">##  $ gaa_postseason                : language as.numeric(gaa_postseason)</span></a>
<a class="sourceLine" id="cb9-70" data-line-number="70"><span class="co">##  $ so_postseason                 : language as.integer(so_postseason)</span></a></code></pre></div>
<p>The function <code>format_records()</code> will build a <code>data.frame</code> for the the project records using the columns types defined by <code>col_type()</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># format_records(avs_metadata, avs_raw_records)</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2"></a>
<a class="sourceLine" id="cb10-3" data-line-number="3">temp1 &lt;-<span class="st"> </span><span class="kw">format_record</span>(avs_raw_metadata, avs_raw_record)</a>
<a class="sourceLine" id="cb10-4" data-line-number="4">temp2 &lt;-<span class="st"> </span><span class="kw">format_record</span>(avs_raw_metadata, avs_record)</a>
<a class="sourceLine" id="cb10-5" data-line-number="5">temp3 &lt;-<span class="st"> </span><span class="kw">format_record</span>(avs_metadata,     avs_raw_record)</a>
<a class="sourceLine" id="cb10-6" data-line-number="6">temp4 &lt;-<span class="st"> </span><span class="kw">format_record</span>(avs_metadata,     avs_record)</a>
<a class="sourceLine" id="cb10-7" data-line-number="7"></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="kw">identical</span>(temp1, temp2)</a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">## [1] TRUE</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="kw">identical</span>(temp1, temp3)</a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">## [1] TRUE</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="kw">identical</span>(temp1, temp4)</a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">## [1] TRUE</span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="kw">str</span>(temp1)</a>
<a class="sourceLine" id="cb10-16" data-line-number="16"><span class="co">## 'data.frame':    32 obs. of  64 variables:</span></a>
<a class="sourceLine" id="cb10-17" data-line-number="17"><span class="co">##  $ record_id                     : chr  &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...</span></a>
<a class="sourceLine" id="cb10-18" data-line-number="18"><span class="co">##  $ uniform_number                : chr  &quot;1&quot; &quot;46&quot; &quot;45&quot; &quot;4&quot; ...</span></a>
<a class="sourceLine" id="cb10-19" data-line-number="19"><span class="co">##  $ firstname                     : chr  &quot;David&quot; &quot;Yuri&quot; &quot;Rick&quot; &quot;Rob&quot; ...</span></a>
<a class="sourceLine" id="cb10-20" data-line-number="20"><span class="co">##  $ lastname                      : chr  &quot;Aebischer&quot; &quot;Babenko&quot; &quot;Berry&quot; &quot;Blake&quot; ...</span></a>
<a class="sourceLine" id="cb10-21" data-line-number="21"><span class="co">##  $ hof                           : int  0 0 0 1 1 0 0 0 0 0 ...</span></a>
<a class="sourceLine" id="cb10-22" data-line-number="22"><span class="co">##  $ nationality                   : chr  &quot;Swiss&quot; &quot;USSR&quot; &quot;Canada&quot; &quot;Canada&quot; ...</span></a>
<a class="sourceLine" id="cb10-23" data-line-number="23"><span class="co">##  $ position                      : Factor w/ 5 levels &quot;Goal&quot;,&quot;Left Wing&quot;,..: 1 4 5 5 5 5 3 2 2 5 ...</span></a>
<a class="sourceLine" id="cb10-24" data-line-number="24"><span class="co">##  $ birthdate                     : Date, format: &quot;1978-02-07&quot; &quot;1978-01-02&quot; ...</span></a>
<a class="sourceLine" id="cb10-25" data-line-number="25"><span class="co">##  $ height                        : int  73 73 74 76 71 74 72 76 70 74 ...</span></a>
<a class="sourceLine" id="cb10-26" data-line-number="26"><span class="co">##  $ weight                        : int  185 200 210 220 219 205 205 235 191 220 ...</span></a>
<a class="sourceLine" id="cb10-27" data-line-number="27"><span class="co">##  $ shoots                        : Factor w/ 2 levels &quot;Left&quot;,&quot;Right&quot;: NA 1 1 2 1 1 2 1 2 2 ...</span></a>
<a class="sourceLine" id="cb10-28" data-line-number="28"><span class="co">##  $ catches                       : Factor w/ 2 levels &quot;Left&quot;,&quot;Right&quot;: 1 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-29" data-line-number="29"><span class="co">##  $ experience                    : int  0 0 0 11 21 5 6 3 2 9 ...</span></a>
<a class="sourceLine" id="cb10-30" data-line-number="30"><span class="co">##  $ gp                            : int  26 3 19 13 80 79 39 41 71 35 ...</span></a>
<a class="sourceLine" id="cb10-31" data-line-number="31"><span class="co">##  $ goals                         : int  0 0 0 2 7 5 13 1 24 3 ...</span></a>
<a class="sourceLine" id="cb10-32" data-line-number="32"><span class="co">##  $ assists                       : int  1 0 4 8 52 12 13 1 41 12 ...</span></a>
<a class="sourceLine" id="cb10-33" data-line-number="33"><span class="co">##  $ points                        : num  1 0 4 10 59 17 26 2 65 15 ...</span></a>
<a class="sourceLine" id="cb10-34" data-line-number="34"><span class="co">##  $ plusmn                        : int  0 0 5 11 25 23 -2 -3 6 6 ...</span></a>
<a class="sourceLine" id="cb10-35" data-line-number="35"><span class="co">##  $ pimi                          : int  0 0 38 8 48 51 59 108 47 42 ...</span></a>
<a class="sourceLine" id="cb10-36" data-line-number="36"><span class="co">##  $ goals_ev                      : int  0 0 0 1 3 5 6 1 13 1 ...</span></a>
<a class="sourceLine" id="cb10-37" data-line-number="37"><span class="co">##  $ goals_pp                      : int  0 0 0 1 2 0 7 0 11 1 ...</span></a>
<a class="sourceLine" id="cb10-38" data-line-number="38"><span class="co">##  $ goals_sh                      : int  0 0 0 0 2 0 0 0 0 1 ...</span></a>
<a class="sourceLine" id="cb10-39" data-line-number="39"><span class="co">##  $ goals_gw                      : int  0 0 0 1 0 0 2 0 5 1 ...</span></a>
<a class="sourceLine" id="cb10-40" data-line-number="40"><span class="co">##  $ assists_ev                    : int  NA 0 4 6 21 11 7 1 22 7 ...</span></a>
<a class="sourceLine" id="cb10-41" data-line-number="41"><span class="co">##  $ assists_pp                    : int  NA 0 0 2 31 0 6 0 18 5 ...</span></a>
<a class="sourceLine" id="cb10-42" data-line-number="42"><span class="co">##  $ assists_sh                    : int  NA 0 0 0 0 1 0 0 0 0 ...</span></a>
<a class="sourceLine" id="cb10-43" data-line-number="43"><span class="co">##  $ shots                         : int  0 2 10 44 216 76 86 33 204 59 ...</span></a>
<a class="sourceLine" id="cb10-44" data-line-number="44"><span class="co">##  $ shooting_percentage           : num  0 0 0 4.55 3.24 ...</span></a>
<a class="sourceLine" id="cb10-45" data-line-number="45"><span class="co">##  $ toi                           : int  1393 32 231 339 2088 1351 687 264 1281 888 ...</span></a>
<a class="sourceLine" id="cb10-46" data-line-number="46"><span class="co">##  $ atoi                          : chr  &quot;53:34&quot; &quot;10:34&quot; &quot;12:08&quot; &quot;26:03&quot; ...</span></a>
<a class="sourceLine" id="cb10-47" data-line-number="47"><span class="co">##  $ wins                          : int  12 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-48" data-line-number="48"><span class="co">##  $ losses                        : int  7 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-49" data-line-number="49"><span class="co">##  $ ties_otl                      : int  3 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-50" data-line-number="50"><span class="co">##  $ goals_against                 : int  52 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-51" data-line-number="51"><span class="co">##  $ shots_against                 : int  538 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-52" data-line-number="52"><span class="co">##  $ saves                         : int  486 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-53" data-line-number="53"><span class="co">##  $ save_percentage               : num  0.903 NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-54" data-line-number="54"><span class="co">##  $ gaa                           : num  2.24 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-55" data-line-number="55"><span class="co">##  $ so                            : int  3 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-56" data-line-number="56"><span class="co">##  $ gp_postseason                 : int  1 0 0 23 21 23 0 16 23 23 ...</span></a>
<a class="sourceLine" id="cb10-57" data-line-number="57"><span class="co">##  $ goals_postseason              : int  0 NA NA 6 4 0 NA 0 11 3 ...</span></a>
<a class="sourceLine" id="cb10-58" data-line-number="58"><span class="co">##  $ assists_postseason            : int  0 NA NA 13 6 1 NA 4 5 4 ...</span></a>
<a class="sourceLine" id="cb10-59" data-line-number="59"><span class="co">##  $ points_postseason             : num  0 NA NA 19 10 1 NA 4 16 7 ...</span></a>
<a class="sourceLine" id="cb10-60" data-line-number="60"><span class="co">##  $ plusmn_postseason             : int  0 NA NA 6 9 5 NA 3 5 5 ...</span></a>
<a class="sourceLine" id="cb10-61" data-line-number="61"><span class="co">##  $ pimi_postseason               : int  0 NA NA 16 12 20 NA 14 4 47 ...</span></a>
<a class="sourceLine" id="cb10-62" data-line-number="62"><span class="co">##  $ goals_ev_postseason           : int  0 NA NA 3 1 0 NA 0 9 2 ...</span></a>
<a class="sourceLine" id="cb10-63" data-line-number="63"><span class="co">##  $ goals_pp_postseason           : int  0 NA NA 3 3 0 NA 0 2 1 ...</span></a>
<a class="sourceLine" id="cb10-64" data-line-number="64"><span class="co">##  $ goals_sh_postseason           : int  0 NA NA 0 0 0 NA 0 0 0 ...</span></a>
<a class="sourceLine" id="cb10-65" data-line-number="65"><span class="co">##  $ goals_gw_postseason           : int  0 NA NA 0 1 0 NA 0 2 1 ...</span></a>
<a class="sourceLine" id="cb10-66" data-line-number="66"><span class="co">##  $ assists_ev_postseason         : int  NA NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-67" data-line-number="67"><span class="co">##  $ assists_pp_postseason         : int  NA NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-68" data-line-number="68"><span class="co">##  $ assists_sh_postseason         : int  NA NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-69" data-line-number="69"><span class="co">##  $ shots_postseason              : int  0 NA NA 83 49 20 NA 8 62 28 ...</span></a>
<a class="sourceLine" id="cb10-70" data-line-number="70"><span class="co">##  $ shooting_percentage_postseason: num  NA NA NA 7.23 8.16 ...</span></a>
<a class="sourceLine" id="cb10-71" data-line-number="71"><span class="co">##  $ toi_postseason                : int  1 NA NA 677 599 328 NA 101 439 652 ...</span></a>
<a class="sourceLine" id="cb10-72" data-line-number="72"><span class="co">##  $ atoi_postseason               : chr  &quot;00:32&quot; &quot;&quot; &quot;&quot; &quot;29:26&quot; ...</span></a>
<a class="sourceLine" id="cb10-73" data-line-number="73"><span class="co">##  $ wins_postseason               : int  0 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-74" data-line-number="74"><span class="co">##  $ losses_postseason             : int  0 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-75" data-line-number="75"><span class="co">##  $ ties_otl_postseason           : int  NA NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-76" data-line-number="76"><span class="co">##  $ goals_allowed_postseason      : int  0 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-77" data-line-number="77"><span class="co">##  $ saves_postseason              : int  0 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-78" data-line-number="78"><span class="co">##  $ save_percentage_postseason    : num  0 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-79" data-line-number="79"><span class="co">##  $ gaa_postseason                : num  0 NA NA NA NA NA NA NA NA NA ...</span></a>
<a class="sourceLine" id="cb10-80" data-line-number="80"><span class="co">##  $ so_postseason                 : int  0 NA NA NA NA NA NA NA NA NA ...</span></a></code></pre></div>
</div>
</div>
<div id="exporting-a-redcap-project-to-a-r-data-package." class="section level1">
<h1><span class="header-section-number">3</span> Exporting a REDCap Project to a R Data Package.</h1>
<p>Exporting a REDCap project to a R data package is done with a call to <code>export_redcap_project()</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">str</span>(export_redcap_project)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">## function (uri, token, other_exports, path = NULL, author_roles = NULL, </span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">##     verbose = TRUE)</span></a></code></pre></div>
<p>The <code>path</code> argument is a directory on your machine were the R data package is going to be built. For this vignette we will use a temporary directory.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">temppath &lt;-<span class="st"> </span><span class="kw">tempdir</span>()</a></code></pre></div>
<p>The exported package name and directory will be <code>rcd&lt;project-id&gt;</code>, that is, <code>rcd</code> for ‘REDCap Data’ and the project-id which, for this example is:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">as.data.frame</span>(avs_raw_project_info)<span class="op">$</span>project_id</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co">## [1] &quot;14465&quot;</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3">avs_raw_user &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;user&quot;</span>)</a>
<a class="sourceLine" id="cb13-4" data-line-number="4">avs_user &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(avs_raw_user)</a></code></pre></div>
<p>Thus we expect the source package to be at</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">prj_path &lt;-</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span><span class="kw">paste</span>(temppath, <span class="kw">paste0</span>(<span class="st">&quot;rcd&quot;</span>, <span class="kw">as.data.frame</span>(avs_raw_project_info)<span class="op">$</span>project_id), <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">prj_path</a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="co">## [1] &quot;/tmp/Rtmp7wd5Zl/rcd14465&quot;</span></a></code></pre></div>
<p>Exporting the project will require you to provide at some information about the users. You need to list at least one of the <code>usernames</code> from the user data and give that person the ‘cre’ role.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">export_redcap_project</span>(<span class="dt">path =</span> temppath,</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">                      <span class="dt">author_roles =</span> <span class="kw">list</span>(<span class="dt">dewittp =</span> <span class="kw">c</span>(<span class="st">&quot;cre&quot;</span>, <span class="st">&quot;aut&quot;</span>)))</a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">## Getting Project Info</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">## Getting project metadata</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">## Getting user data</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">## Getting project record</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">## Creating source package at /tmp/Rtmp7wd5Zl/rcd14465</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">## Updating rcd14465 documentation</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">## First time using roxygen2. Upgrading automatically...</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">## Updating roxygen version in /tmp/Rtmp7wd5Zl/rcd14465/DESCRIPTION</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">## Writing NAMESPACE</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">## Loading rcd14465</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">## Writing project.Rd</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">## Writing metadata.Rd</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">## Writing user.Rd</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">## Writing record.Rd</span></a></code></pre></div>
<p>Let’s look at some of the files which have been placed into the project path. We will start with the DESCRIPTION file.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">read.dcf</span>(<span class="kw">paste</span>(prj_path, <span class="st">&quot;DESCRIPTION&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>))</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co">##      Package    Title                          Version           </span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co">## [1,] &quot;rcd14465&quot; &quot;2000-2001 Colorado Avalanche&quot; &quot;2019.03.01.16.05&quot;</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">##      Authors@R                                                                                                                                                                                                                        </span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="co">## [1,] &quot;c(person(given = \&quot;Tell\&quot;, family = \&quot;Bennett\&quot;, email = \&quot;tell.bennett@ucdenver.edu\&quot;, role = c(\&quot;ctb\&quot;)),\nperson(given = \&quot;Peter\&quot;, family = \&quot;DeWitt\&quot;, email = \&quot;peter.dewitt@ucdenver.edu\&quot;, role = c(\&quot;cre\&quot;, \&quot;aut\&quot;)))&quot;</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="co">##      Description                                       License       </span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="co">## [1,] &quot;Data and documentation from the REDCap Project.&quot; &quot;file LICENSE&quot;</span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="co">##      Encoding LazyData Suggests VignetteBuilder RoxygenNote</span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="co">## [1,] &quot;UTF-8&quot;  &quot;true&quot;   &quot;knitr&quot;  &quot;knitr&quot;         &quot;6.1.1&quot;</span></a></code></pre></div>
<p>The package name is as noted above, the verions number is worth noting, the version is the year.month.day.hour.minute for when the data was exported from REDCap.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">devtools<span class="op">::</span><span class="kw">check</span>(<span class="dt">pkg =</span> prj_path)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">## Updating rcd14465 documentation</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">## Loading rcd14465</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="co">## ── Building ─────────────────────────────────────────────────── rcd14465 ──</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">## Setting env vars:</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">## ● CFLAGS    : -Wall -pedantic</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="co">## ● CXXFLAGS  : -Wall -pedantic</span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">## ● CXX11FLAGS: -Wall -pedantic</span></a>
<a class="sourceLine" id="cb17-9" data-line-number="9"><span class="co">## ───────────────────────────────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb17-10" data-line-number="10"><span class="co">##   </span></a>
<a class="sourceLine" id="cb17-11" data-line-number="11">   checking <span class="cf">for</span> file ‘<span class="op">/</span>tmp<span class="op">/</span>Rtmp7wd5Zl<span class="op">/</span>rcd14465<span class="op">/</span>DESCRIPTION’ ...</a>
<a class="sourceLine" id="cb17-12" data-line-number="12">  </a>
<a class="sourceLine" id="cb17-13" data-line-number="13">✔  checking <span class="cf">for</span> file ‘<span class="op">/</span>tmp<span class="op">/</span>Rtmp7wd5Zl<span class="op">/</span>rcd14465<span class="op">/</span>DESCRIPTION’</a>
<a class="sourceLine" id="cb17-14" data-line-number="14"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-15" data-line-number="15">  </a>
<a class="sourceLine" id="cb17-16" data-line-number="16">─  preparing ‘rcd14465’<span class="op">:</span></a>
<a class="sourceLine" id="cb17-17" data-line-number="17"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-18" data-line-number="18"><span class="st">  </span></a>
<a class="sourceLine" id="cb17-19" data-line-number="19"><span class="st">   </span>checking DESCRIPTION meta<span class="op">-</span>information ...</a>
<a class="sourceLine" id="cb17-20" data-line-number="20">  </a>
<a class="sourceLine" id="cb17-21" data-line-number="21">✔  checking DESCRIPTION meta<span class="op">-</span>information</a>
<a class="sourceLine" id="cb17-22" data-line-number="22"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-23" data-line-number="23">  </a>
<a class="sourceLine" id="cb17-24" data-line-number="24">─  checking <span class="cf">for</span> LF line<span class="op">-</span>endings <span class="cf">in</span> source and make files and shell scripts</a>
<a class="sourceLine" id="cb17-25" data-line-number="25"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-26" data-line-number="26">  </a>
<a class="sourceLine" id="cb17-27" data-line-number="27">─  checking <span class="cf">for</span> empty or unneeded directories</a>
<a class="sourceLine" id="cb17-28" data-line-number="28"><span class="co">## ─  looking to see if a ‘data/datalist’ file should be added</span></a>
<a class="sourceLine" id="cb17-29" data-line-number="29"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-30" data-line-number="30">  </a>
<a class="sourceLine" id="cb17-31" data-line-number="31">     NB<span class="op">:</span><span class="st"> </span>this package now depends on <span class="kw">R</span> (<span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span>)</a>
<a class="sourceLine" id="cb17-32" data-line-number="32"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-33" data-line-number="33">  </a>
<a class="sourceLine" id="cb17-34" data-line-number="34">     WARNING<span class="op">:</span><span class="st"> </span>Added dependency on R <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span> because serialized objects <span class="cf">in</span>  serialize<span class="op">/</span>load version <span class="dv">3</span> cannot be read <span class="cf">in</span> older versions of R.  <span class="kw">File</span>(s) containing such objects<span class="op">:</span><span class="st"> 'rcd14465/data/metadata.rda'</span>  <span class="st">'rcd14465/data/project.rda'</span>  WARNING<span class="op">:</span><span class="st"> </span>Added dependency on R <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span> because serialized objects <span class="cf">in</span>  serialize<span class="op">/</span>load version <span class="dv">3</span> cannot be read <span class="cf">in</span> older versions of R.  <span class="kw">File</span>(s) containing such objects<span class="op">:</span><span class="st"> 'rcd14465/data/record.rda'</span>  <span class="st">'rcd14465/data/user.rda'</span>  WARNING<span class="op">:</span><span class="st"> </span>Added dependency on R <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span> because serialized objects <span class="cf">in</span>  serialize<span class="op">/</span>load version <span class="dv">3</span> cannot be read <span class="cf">in</span> older versions of R.  <span class="kw">File</span>(s) containing such objects<span class="op">:</span><span class="st">  'rcd14465/inst/raw-data/metadata.rds'</span>  WARNING<span class="op">:</span><span class="st"> </span>Added dependency on R <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span> because serialized objects <span class="cf">in</span>  serialize<span class="op">/</span>load version <span class="dv">3</span> cannot be read <span class="cf">in</span> older versions of R.  <span class="kw">File</span>(s) containing such objects<span class="op">:</span><span class="st"> 'rcd14465/inst/raw-data/project.rds'</span>  WARNING<span class="op">:</span><span class="st"> </span>Added dependency on R <span class="op">&gt;=</span><span class="st"> </span><span class="dv">3</span>.<span class="fl">5.0</span> because serialized objects <span class="cf">in</span>  serialize<span class="op">/</span>load version <span class="dv">3</span> cannot be read <span class="cf">in</span> older versions of R.  <span class="kw">File</span>(s) containing such objects<span class="op">:</span><span class="st"> 'rcd14465/inst/raw-data/record.rds'</span>  <span class="st">'rcd14465/inst/raw-data/user.rds'</span></a>
<a class="sourceLine" id="cb17-35" data-line-number="35"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-36" data-line-number="36">  </a>
<a class="sourceLine" id="cb17-37" data-line-number="37">─  building <span class="st">'rcd14465_2019.03.01.16.05.tar.gz'</span></a>
<a class="sourceLine" id="cb17-38" data-line-number="38"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-39" data-line-number="39">  </a>
<a class="sourceLine" id="cb17-40" data-line-number="40">   </a>
<a class="sourceLine" id="cb17-41" data-line-number="41"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-42" data-line-number="42">── Checking ─────────────────────────────────────────────────── rcd14465 ──</a>
<a class="sourceLine" id="cb17-43" data-line-number="43"><span class="co">## Setting env vars:</span></a>
<a class="sourceLine" id="cb17-44" data-line-number="44"><span class="co">## ● _R_CHECK_CRAN_INCOMING_USE_ASPELL_: TRUE</span></a>
<a class="sourceLine" id="cb17-45" data-line-number="45"><span class="co">## ● _R_CHECK_CRAN_INCOMING_REMOTE_    : FALSE</span></a>
<a class="sourceLine" id="cb17-46" data-line-number="46"><span class="co">## ● _R_CHECK_CRAN_INCOMING_           : FALSE</span></a>
<a class="sourceLine" id="cb17-47" data-line-number="47"><span class="co">## ● _R_CHECK_FORCE_SUGGESTS_          : FALSE</span></a>
<a class="sourceLine" id="cb17-48" data-line-number="48"><span class="co">## ── R CMD check ────────────────────────────────────────────────────────────</span></a>
<a class="sourceLine" id="cb17-49" data-line-number="49"><span class="co">##   </span></a>
<a class="sourceLine" id="cb17-50" data-line-number="50">─  using log directory ‘<span class="op">/</span>tmp<span class="op">/</span>Rtmp7wd5Zl<span class="op">/</span>rcd14465.Rcheck’</a>
<a class="sourceLine" id="cb17-51" data-line-number="51"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-52" data-line-number="52">  </a>
<a class="sourceLine" id="cb17-53" data-line-number="53">─  using R Under <span class="kw">development</span> (unstable) (<span class="dv">2019-01-13</span> r75986)</a>
<a class="sourceLine" id="cb17-54" data-line-number="54"><span class="co">## ─  using platform: x86_64-pc-linux-gnu (64-bit)</span></a>
<a class="sourceLine" id="cb17-55" data-line-number="55"><span class="co">## ─  using session charset: UTF-8</span></a>
<a class="sourceLine" id="cb17-56" data-line-number="56"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-57" data-line-number="57">  </a>
<a class="sourceLine" id="cb17-58" data-line-number="58">─  using options ‘<span class="op">--</span>no<span class="op">-</span>manual <span class="op">--</span>as<span class="op">-</span>cran’</a>
<a class="sourceLine" id="cb17-59" data-line-number="59"><span class="co">##    checking for file ‘rcd14465/DESCRIPTION’ ...</span></a>
<a class="sourceLine" id="cb17-60" data-line-number="60">  </a>
<a class="sourceLine" id="cb17-61" data-line-number="61">✔  checking <span class="cf">for</span> file ‘rcd14465<span class="op">/</span>DESCRIPTION’</a>
<a class="sourceLine" id="cb17-62" data-line-number="62"><span class="co">## ─  this is package ‘rcd14465’ version ‘2019.03.01.16.05’</span></a>
<a class="sourceLine" id="cb17-63" data-line-number="63"><span class="co">## ─  package encoding: UTF-8</span></a>
<a class="sourceLine" id="cb17-64" data-line-number="64"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-65" data-line-number="65">  </a>
<a class="sourceLine" id="cb17-66" data-line-number="66">   checking package namespace information ...</a>
<a class="sourceLine" id="cb17-67" data-line-number="67">  </a>
<a class="sourceLine" id="cb17-68" data-line-number="68">✔  checking package namespace information</a>
<a class="sourceLine" id="cb17-69" data-line-number="69"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-70" data-line-number="70">  </a>
<a class="sourceLine" id="cb17-71" data-line-number="71">   checking package dependencies ...</a>
<a class="sourceLine" id="cb17-72" data-line-number="72">  </a>
<a class="sourceLine" id="cb17-73" data-line-number="73">✔  checking package <span class="kw">dependencies</span> (1m <span class="fl">10.5</span>s)</a>
<a class="sourceLine" id="cb17-74" data-line-number="74"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-75" data-line-number="75">  </a>
<a class="sourceLine" id="cb17-76" data-line-number="76">✔  checking <span class="cf">if</span> this is a source package</a>
<a class="sourceLine" id="cb17-77" data-line-number="77"><span class="co">## ✔  checking if there is a namespace</span></a>
<a class="sourceLine" id="cb17-78" data-line-number="78"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-79" data-line-number="79">  </a>
<a class="sourceLine" id="cb17-80" data-line-number="80">   checking <span class="cf">for</span> executable files ...</a>
<a class="sourceLine" id="cb17-81" data-line-number="81">  </a>
<a class="sourceLine" id="cb17-82" data-line-number="82">✔  checking <span class="cf">for</span> executable files</a>
<a class="sourceLine" id="cb17-83" data-line-number="83"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-84" data-line-number="84">  </a>
<a class="sourceLine" id="cb17-85" data-line-number="85">✔  checking <span class="cf">for</span> hidden files and directories</a>
<a class="sourceLine" id="cb17-86" data-line-number="86"><span class="co">## ✔  checking for portable file names</span></a>
<a class="sourceLine" id="cb17-87" data-line-number="87"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-88" data-line-number="88">  </a>
<a class="sourceLine" id="cb17-89" data-line-number="89">✔  checking <span class="cf">for</span> sufficient<span class="op">/</span>correct file permissions</a>
<a class="sourceLine" id="cb17-90" data-line-number="90"><span class="co">##    checking whether package ‘rcd14465’ can be installed ...</span></a>
<a class="sourceLine" id="cb17-91" data-line-number="91">  </a>
<a class="sourceLine" id="cb17-92" data-line-number="92">✔  checking whether package ‘rcd14465’ can be <span class="kw">installed</span> (541ms)</a>
<a class="sourceLine" id="cb17-93" data-line-number="93"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-94" data-line-number="94">  </a>
<a class="sourceLine" id="cb17-95" data-line-number="95">   checking installed package size ...</a>
<a class="sourceLine" id="cb17-96" data-line-number="96">  </a>
<a class="sourceLine" id="cb17-97" data-line-number="97">✔  checking installed package size</a>
<a class="sourceLine" id="cb17-98" data-line-number="98"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-99" data-line-number="99">  </a>
<a class="sourceLine" id="cb17-100" data-line-number="100">   checking package directory ...</a>
<a class="sourceLine" id="cb17-101" data-line-number="101">  </a>
<a class="sourceLine" id="cb17-102" data-line-number="102">✔  checking package directory</a>
<a class="sourceLine" id="cb17-103" data-line-number="103"><span class="co">##    checking for future file timestamps ...</span></a>
<a class="sourceLine" id="cb17-104" data-line-number="104">  </a>
<a class="sourceLine" id="cb17-105" data-line-number="105">✔  checking <span class="cf">for</span> future file timestamps</a>
<a class="sourceLine" id="cb17-106" data-line-number="106"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-107" data-line-number="107">  </a>
<a class="sourceLine" id="cb17-108" data-line-number="108">   checking DESCRIPTION meta<span class="op">-</span>information ...</a>
<a class="sourceLine" id="cb17-109" data-line-number="109">  </a>
<a class="sourceLine" id="cb17-110" data-line-number="110">✔  checking DESCRIPTION meta<span class="op">-</span>information</a>
<a class="sourceLine" id="cb17-111" data-line-number="111"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-112" data-line-number="112">  </a>
<a class="sourceLine" id="cb17-113" data-line-number="113">✔  checking top<span class="op">-</span>level files</a>
<a class="sourceLine" id="cb17-114" data-line-number="114"><span class="co">## ✔  checking for left-over files</span></a>
<a class="sourceLine" id="cb17-115" data-line-number="115"><span class="co">## ✔  checking index information</span></a>
<a class="sourceLine" id="cb17-116" data-line-number="116"><span class="co">##    checking package subdirectories ...</span></a>
<a class="sourceLine" id="cb17-117" data-line-number="117">  </a>
<a class="sourceLine" id="cb17-118" data-line-number="118">✔  checking package subdirectories</a>
<a class="sourceLine" id="cb17-119" data-line-number="119"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-120" data-line-number="120">  </a>
<a class="sourceLine" id="cb17-121" data-line-number="121">   checking R files <span class="cf">for</span> non<span class="op">-</span>ASCII characters ...</a>
<a class="sourceLine" id="cb17-122" data-line-number="122">  </a>
<a class="sourceLine" id="cb17-123" data-line-number="123">✔  checking R files <span class="cf">for</span> non<span class="op">-</span>ASCII characters</a>
<a class="sourceLine" id="cb17-124" data-line-number="124"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-125" data-line-number="125">  </a>
<a class="sourceLine" id="cb17-126" data-line-number="126">   checking R files <span class="cf">for</span> syntax errors ...</a>
<a class="sourceLine" id="cb17-127" data-line-number="127">  </a>
<a class="sourceLine" id="cb17-128" data-line-number="128">✔  checking R files <span class="cf">for</span> syntax errors</a>
<a class="sourceLine" id="cb17-129" data-line-number="129"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-130" data-line-number="130">  </a>
<a class="sourceLine" id="cb17-131" data-line-number="131">   checking whether the package can be loaded ...</a>
<a class="sourceLine" id="cb17-132" data-line-number="132">  </a>
<a class="sourceLine" id="cb17-133" data-line-number="133">✔  checking whether the package can be loaded</a>
<a class="sourceLine" id="cb17-134" data-line-number="134"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-135" data-line-number="135">  </a>
<a class="sourceLine" id="cb17-136" data-line-number="136">   checking whether the package can be loaded with stated dependencies ...</a>
<a class="sourceLine" id="cb17-137" data-line-number="137">  </a>
<a class="sourceLine" id="cb17-138" data-line-number="138">✔  checking whether the package can be loaded with stated dependencies</a>
<a class="sourceLine" id="cb17-139" data-line-number="139"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-140" data-line-number="140">  </a>
<a class="sourceLine" id="cb17-141" data-line-number="141">   checking whether the package can be unloaded cleanly ...</a>
<a class="sourceLine" id="cb17-142" data-line-number="142">  </a>
<a class="sourceLine" id="cb17-143" data-line-number="143">✔  checking whether the package can be unloaded cleanly</a>
<a class="sourceLine" id="cb17-144" data-line-number="144"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-145" data-line-number="145">  </a>
<a class="sourceLine" id="cb17-146" data-line-number="146">   checking whether the namespace can be loaded with stated dependencies ...</a>
<a class="sourceLine" id="cb17-147" data-line-number="147">  </a>
<a class="sourceLine" id="cb17-148" data-line-number="148">✔  checking whether the namespace can be loaded with stated dependencies</a>
<a class="sourceLine" id="cb17-149" data-line-number="149"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-150" data-line-number="150">  </a>
<a class="sourceLine" id="cb17-151" data-line-number="151">   checking whether the namespace can be unloaded cleanly ...</a>
<a class="sourceLine" id="cb17-152" data-line-number="152">  </a>
<a class="sourceLine" id="cb17-153" data-line-number="153">✔  checking whether the namespace can be unloaded cleanly</a>
<a class="sourceLine" id="cb17-154" data-line-number="154"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-155" data-line-number="155">  </a>
<a class="sourceLine" id="cb17-156" data-line-number="156">   checking loading without being on the library search path ...</a>
<a class="sourceLine" id="cb17-157" data-line-number="157">  </a>
<a class="sourceLine" id="cb17-158" data-line-number="158">✔  checking loading without being on the library search path</a>
<a class="sourceLine" id="cb17-159" data-line-number="159"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-160" data-line-number="160">  </a>
<a class="sourceLine" id="cb17-161" data-line-number="161">   checking dependencies <span class="cf">in</span> R code ...</a>
<a class="sourceLine" id="cb17-162" data-line-number="162">  </a>
<a class="sourceLine" id="cb17-163" data-line-number="163">✔  checking dependencies <span class="cf">in</span> R code</a>
<a class="sourceLine" id="cb17-164" data-line-number="164"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-165" data-line-number="165">  </a>
<a class="sourceLine" id="cb17-166" data-line-number="166">   checking S3 generic<span class="op">/</span>method consistency ...</a>
<a class="sourceLine" id="cb17-167" data-line-number="167">  </a>
<a class="sourceLine" id="cb17-168" data-line-number="168">✔  checking S3 generic<span class="op">/</span>method consistency</a>
<a class="sourceLine" id="cb17-169" data-line-number="169"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-170" data-line-number="170">  </a>
<a class="sourceLine" id="cb17-171" data-line-number="171">   checking replacement functions ...</a>
<a class="sourceLine" id="cb17-172" data-line-number="172">  </a>
<a class="sourceLine" id="cb17-173" data-line-number="173">✔  checking replacement functions</a>
<a class="sourceLine" id="cb17-174" data-line-number="174"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-175" data-line-number="175">  </a>
<a class="sourceLine" id="cb17-176" data-line-number="176">   checking foreign <span class="cf">function</span> calls ...</a>
<a class="sourceLine" id="cb17-177" data-line-number="177">  </a>
<a class="sourceLine" id="cb17-178" data-line-number="178">✔  checking foreign <span class="cf">function</span> calls</a>
<a class="sourceLine" id="cb17-179" data-line-number="179"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-180" data-line-number="180">  </a>
<a class="sourceLine" id="cb17-181" data-line-number="181">   checking R code <span class="cf">for</span> possible problems ...</a>
<a class="sourceLine" id="cb17-182" data-line-number="182">  </a>
<a class="sourceLine" id="cb17-183" data-line-number="183">✔  checking R code <span class="cf">for</span> possible <span class="kw">problems</span> (<span class="fl">1.3</span>s)</a>
<a class="sourceLine" id="cb17-184" data-line-number="184"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-185" data-line-number="185">  </a>
<a class="sourceLine" id="cb17-186" data-line-number="186">   checking Rd files ...</a>
<a class="sourceLine" id="cb17-187" data-line-number="187">  </a>
<a class="sourceLine" id="cb17-188" data-line-number="188">✔  checking Rd files</a>
<a class="sourceLine" id="cb17-189" data-line-number="189"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-190" data-line-number="190">  </a>
<a class="sourceLine" id="cb17-191" data-line-number="191">   checking Rd metadata ...</a>
<a class="sourceLine" id="cb17-192" data-line-number="192">  </a>
<a class="sourceLine" id="cb17-193" data-line-number="193">✔  checking Rd metadata</a>
<a class="sourceLine" id="cb17-194" data-line-number="194"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-195" data-line-number="195">  </a>
<a class="sourceLine" id="cb17-196" data-line-number="196">   checking Rd line widths ...</a>
<a class="sourceLine" id="cb17-197" data-line-number="197">  </a>
<a class="sourceLine" id="cb17-198" data-line-number="198">✔  checking Rd line widths</a>
<a class="sourceLine" id="cb17-199" data-line-number="199"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-200" data-line-number="200">  </a>
<a class="sourceLine" id="cb17-201" data-line-number="201">   checking Rd cross<span class="op">-</span>references ...</a>
<a class="sourceLine" id="cb17-202" data-line-number="202">  </a>
<a class="sourceLine" id="cb17-203" data-line-number="203">✔  checking Rd cross<span class="op">-</span>references</a>
<a class="sourceLine" id="cb17-204" data-line-number="204"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-205" data-line-number="205">  </a>
<a class="sourceLine" id="cb17-206" data-line-number="206">   checking <span class="cf">for</span> missing documentation entries ...</a>
<a class="sourceLine" id="cb17-207" data-line-number="207">  </a>
<a class="sourceLine" id="cb17-208" data-line-number="208">✔  checking <span class="cf">for</span> missing documentation entries</a>
<a class="sourceLine" id="cb17-209" data-line-number="209"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-210" data-line-number="210">  </a>
<a class="sourceLine" id="cb17-211" data-line-number="211">   checking <span class="cf">for</span> code<span class="op">/</span>documentation mismatches ...</a>
<a class="sourceLine" id="cb17-212" data-line-number="212">  </a>
<a class="sourceLine" id="cb17-213" data-line-number="213">✔  checking <span class="cf">for</span> code<span class="op">/</span>documentation mismatches</a>
<a class="sourceLine" id="cb17-214" data-line-number="214"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-215" data-line-number="215">  </a>
<a class="sourceLine" id="cb17-216" data-line-number="216">   checking Rd \usage sections ...</a>
<a class="sourceLine" id="cb17-217" data-line-number="217">  </a>
<a class="sourceLine" id="cb17-218" data-line-number="218">✔  checking Rd \usage <span class="kw">sections</span> (339ms)</a>
<a class="sourceLine" id="cb17-219" data-line-number="219"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-220" data-line-number="220">  </a>
<a class="sourceLine" id="cb17-221" data-line-number="221">   checking Rd contents ...</a>
<a class="sourceLine" id="cb17-222" data-line-number="222">  </a>
<a class="sourceLine" id="cb17-223" data-line-number="223">✔  checking Rd contents</a>
<a class="sourceLine" id="cb17-224" data-line-number="224"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-225" data-line-number="225">  </a>
<a class="sourceLine" id="cb17-226" data-line-number="226">   checking <span class="cf">for</span> unstated dependencies <span class="cf">in</span> examples ...</a>
<a class="sourceLine" id="cb17-227" data-line-number="227">  </a>
<a class="sourceLine" id="cb17-228" data-line-number="228">✔  checking <span class="cf">for</span> unstated dependencies <span class="cf">in</span> examples</a>
<a class="sourceLine" id="cb17-229" data-line-number="229"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-230" data-line-number="230">  </a>
<a class="sourceLine" id="cb17-231" data-line-number="231">✔  checking contents of ‘data’ directory</a>
<a class="sourceLine" id="cb17-232" data-line-number="232"><span class="co">##    checking data for non-ASCII characters ...</span></a>
<a class="sourceLine" id="cb17-233" data-line-number="233">  </a>
<a class="sourceLine" id="cb17-234" data-line-number="234">✔  checking data <span class="cf">for</span> non<span class="op">-</span>ASCII characters</a>
<a class="sourceLine" id="cb17-235" data-line-number="235"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-236" data-line-number="236">  </a>
<a class="sourceLine" id="cb17-237" data-line-number="237">   checking data <span class="cf">for</span> ASCII and uncompressed saves ...</a>
<a class="sourceLine" id="cb17-238" data-line-number="238">  </a>
<a class="sourceLine" id="cb17-239" data-line-number="239">✔  checking data <span class="cf">for</span> ASCII and uncompressed saves</a>
<a class="sourceLine" id="cb17-240" data-line-number="240"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-241" data-line-number="241">  </a>
<a class="sourceLine" id="cb17-242" data-line-number="242">   checking examples ...</a>
<a class="sourceLine" id="cb17-243" data-line-number="243">  </a>
<a class="sourceLine" id="cb17-244" data-line-number="244">─  checking examples ... NONE</a>
<a class="sourceLine" id="cb17-245" data-line-number="245"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-246" data-line-number="246">  </a>
<a class="sourceLine" id="cb17-247" data-line-number="247">   </a>
<a class="sourceLine" id="cb17-248" data-line-number="248"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-249" data-line-number="249">  </a>
<a class="sourceLine" id="cb17-250" data-line-number="250"></a>
<a class="sourceLine" id="cb17-251" data-line-number="251">  </a>
<a class="sourceLine" id="cb17-252" data-line-number="252">   </a>
<a class="sourceLine" id="cb17-253" data-line-number="253"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-254" data-line-number="254"><span class="co">## ── R CMD check results ───────────────────── rcd14465 2019.03.01.16.05 ────</span></a>
<a class="sourceLine" id="cb17-255" data-line-number="255"><span class="co">## Duration: 1m 15.8s</span></a>
<a class="sourceLine" id="cb17-256" data-line-number="256"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-257" data-line-number="257"><span class="co">## 0 errors ✔ | 0 warnings ✔ | 0 notes ✔</span></a>
<a class="sourceLine" id="cb17-258" data-line-number="258"></a>
<a class="sourceLine" id="cb17-259" data-line-number="259"><span class="kw">install.packages</span>(</a>
<a class="sourceLine" id="cb17-260" data-line-number="260"><span class="kw">grep</span>(<span class="st">&quot;*.tar.gz&quot;</span>, <span class="kw">list.files</span>(<span class="dt">path =</span> prj_path, <span class="dt">recursive =</span> <span class="ot">TRUE</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>), <span class="dt">value =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb17-261" data-line-number="261"><span class="dt">lib =</span> temppath)</a>
<a class="sourceLine" id="cb17-262" data-line-number="262"></a>
<a class="sourceLine" id="cb17-263" data-line-number="263"><span class="kw">library</span>(rcd14465, <span class="dt">lib.loc =</span> temppath)</a>
<a class="sourceLine" id="cb17-264" data-line-number="264"><span class="kw">data</span>(<span class="dt">package =</span> <span class="st">&quot;rcd14465&quot;</span>)<span class="op">$</span>results</a>
<a class="sourceLine" id="cb17-265" data-line-number="265"><span class="co">##      Package    LibPath           Item       Title</span></a>
<a class="sourceLine" id="cb17-266" data-line-number="266"><span class="co">## [1,] &quot;rcd14465&quot; &quot;/tmp/Rtmp7wd5Zl&quot; &quot;metadata&quot; &quot;&quot;   </span></a>
<a class="sourceLine" id="cb17-267" data-line-number="267"><span class="co">## [2,] &quot;rcd14465&quot; &quot;/tmp/Rtmp7wd5Zl&quot; &quot;project&quot;  &quot;&quot;   </span></a>
<a class="sourceLine" id="cb17-268" data-line-number="268"><span class="co">## [3,] &quot;rcd14465&quot; &quot;/tmp/Rtmp7wd5Zl&quot; &quot;record&quot;   &quot;&quot;   </span></a>
<a class="sourceLine" id="cb17-269" data-line-number="269"><span class="co">## [4,] &quot;rcd14465&quot; &quot;/tmp/Rtmp7wd5Zl&quot; &quot;user&quot;     &quot;&quot;</span></a>
<a class="sourceLine" id="cb17-270" data-line-number="270"></a>
<a class="sourceLine" id="cb17-271" data-line-number="271"><span class="kw">data</span>(metadata)</a>
<a class="sourceLine" id="cb17-272" data-line-number="272"><span class="kw">all.equal</span>(<span class="kw">as.data.frame</span>(avs_metadata), metadata, <span class="dt">check.attributes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb17-273" data-line-number="273"><span class="co">## [1] TRUE</span></a></code></pre></div>
</div>
<div id="session-info" class="section level1">
<h1><span class="header-section-number">4</span> Session Info</h1>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">print</span>(<span class="kw">sessionInfo</span>(), <span class="dt">local =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb18-2" data-line-number="2"><span class="co">## R Under development (unstable) (2019-01-13 r75986)</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="co">## Platform: x86_64-pc-linux-gnu (64-bit)</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="co">## Running under: Debian GNU/Linux 9 (stretch)</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="co">## </span></a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="co">## Matrix products: default</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="co">## BLAS/LAPACK: /usr/lib/libopenblasp-r0.2.19.so</span></a>
<a class="sourceLine" id="cb18-8" data-line-number="8"><span class="co">## </span></a>
<a class="sourceLine" id="cb18-9" data-line-number="9"><span class="co">## attached base packages:</span></a>
<a class="sourceLine" id="cb18-10" data-line-number="10"><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></a>
<a class="sourceLine" id="cb18-11" data-line-number="11"><span class="co">## </span></a>
<a class="sourceLine" id="cb18-12" data-line-number="12"><span class="co">## other attached packages:</span></a>
<a class="sourceLine" id="cb18-13" data-line-number="13"><span class="co">## [1] rcd14465_2019.03.01.16.05 qwraps2_0.4.0            </span></a>
<a class="sourceLine" id="cb18-14" data-line-number="14"><span class="co">## [3] secret_1.0.0              magrittr_1.5             </span></a>
<a class="sourceLine" id="cb18-15" data-line-number="15"><span class="co">## [5] data.table_1.12.0         REDCapExporter_0.0.0.9000</span></a>
<a class="sourceLine" id="cb18-16" data-line-number="16"><span class="co">## </span></a>
<a class="sourceLine" id="cb18-17" data-line-number="17"><span class="co">## loaded via a namespace (and not attached):</span></a>
<a class="sourceLine" id="cb18-18" data-line-number="18"><span class="co">##  [1] Rcpp_1.0.0        compiler_3.6.0    remotes_2.0.2    </span></a>
<a class="sourceLine" id="cb18-19" data-line-number="19"><span class="co">##  [4] prettyunits_1.0.2 bitops_1.0-6      tools_3.6.0      </span></a>
<a class="sourceLine" id="cb18-20" data-line-number="20"><span class="co">##  [7] testthat_2.0.1    digest_0.6.18     pkgbuild_1.0.2   </span></a>
<a class="sourceLine" id="cb18-21" data-line-number="21"><span class="co">## [10] pkgload_1.0.2     jsonlite_1.6      lubridate_1.7.4  </span></a>
<a class="sourceLine" id="cb18-22" data-line-number="22"><span class="co">## [13] evaluate_0.13     memoise_1.1.0     rlang_0.3.1      </span></a>
<a class="sourceLine" id="cb18-23" data-line-number="23"><span class="co">## [16] rstudioapi_0.9.0  cli_1.0.1         commonmark_1.7   </span></a>
<a class="sourceLine" id="cb18-24" data-line-number="24"><span class="co">## [19] curl_3.3          yaml_2.2.0        xopen_1.0.0      </span></a>
<a class="sourceLine" id="cb18-25" data-line-number="25"><span class="co">## [22] xfun_0.5          xml2_1.2.0        roxygen2_6.1.1   </span></a>
<a class="sourceLine" id="cb18-26" data-line-number="26"><span class="co">## [25] withr_2.1.2       stringr_1.4.0     knitr_1.21       </span></a>
<a class="sourceLine" id="cb18-27" data-line-number="27"><span class="co">## [28] fs_1.2.6          desc_1.2.0        askpass_1.1      </span></a>
<a class="sourceLine" id="cb18-28" data-line-number="28"><span class="co">## [31] devtools_2.0.1    rprojroot_1.3-2   glue_1.3.0       </span></a>
<a class="sourceLine" id="cb18-29" data-line-number="29"><span class="co">## [34] R6_2.4.0          processx_3.2.1    rcmdcheck_1.3.2  </span></a>
<a class="sourceLine" id="cb18-30" data-line-number="30"><span class="co">## [37] rmarkdown_1.11    sessioninfo_1.1.1 purrr_0.3.0      </span></a>
<a class="sourceLine" id="cb18-31" data-line-number="31"><span class="co">## [40] callr_3.1.1       usethis_1.4.0     backports_1.1.3  </span></a>
<a class="sourceLine" id="cb18-32" data-line-number="32"><span class="co">## [43] ps_1.3.0          htmltools_0.3.6   assertthat_0.2.0 </span></a>
<a class="sourceLine" id="cb18-33" data-line-number="33"><span class="co">## [46] stringi_1.3.1     RCurl_1.95-4.11   openssl_1.2.2    </span></a>
<a class="sourceLine" id="cb18-34" data-line-number="34"><span class="co">## [49] crayon_1.3.4      rjson_0.2.20</span></a>
<a class="sourceLine" id="cb18-35" data-line-number="35"><span class="co">#</span></a></code></pre></div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
