<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Peter DeWitt" />

<meta name="date" content="2019-03-12" />

<title>REDCap Exporter</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' || rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>



<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>

</head>

<body>




<h1 class="title toc-ignore">REDCap Exporter</h1>
<h4 class="author"><em>Peter DeWitt</em></h4>
<h4 class="date"><em>2019-03-12</em></h4>


<div id="TOC">
<ul>
<li><a href="#prerequisites-and-tokens"><span class="toc-section-number">1</span> Prerequisites and Tokens</a><ul>
<li><a href="#namespaces-options-and-system-environment-variables"><span class="toc-section-number">1.1</span> Namespaces, Options, and System Environment Variables</a></li>
</ul></li>
<li><a href="#general-tools"><span class="toc-section-number">2</span> General Tools</a><ul>
<li><a href="#specific-export-methods"><span class="toc-section-number">2.1</span> Specific Export Methods</a></li>
<li><a href="#data-import-tools"><span class="toc-section-number">2.2</span> Data Import Tools</a></li>
</ul></li>
<li><a href="#exporting-a-redcap-project-to-a-r-data-package."><span class="toc-section-number">3</span> Exporting a REDCap Project to a R Data Package.</a></li>
<li><a href="#session-info"><span class="toc-section-number">4</span> Session Info</a></li>
</ul>
</div>

<p>The purpose of this vignette is to show how to export a REDCap project into a R data package. There are some prerequisites, described in detail in the first section, you will need to address before running the examples.</p>
<p>The primary objective of the <em>REDCapExporter</em> is to export all the data from an REDCap project via the REDCap API and build a R data package with useful documentation and tools. The data package will make it easy to archive data and distribute data, in an analysis ready format, within a group of analysts.</p>
<p><strong>Disclaimer and Warning:</strong> It is the responsibility of the end user to protect sensitive data. Do not use <em>REDCapExporter</em> to export data onto a computer that should not have sensitive data stored on it. Further, do not distribute the resulting R package to any other machine or person who does not have data access rights.</p>
<p>For the example in this vignette we created a REDCap project storing the roster and statistics for the 2000-2001 Stanley Cup Champion Colorado Avalanche of the National Hockey League. The data was acquired from the web page <a href="https://www.hockey-reference.com/teams/COL/2001.html">Hockey Reference</a>.</p>
<div id="prerequisites-and-tokens" class="section level1">
<h1><span class="header-section-number">1</span> Prerequisites and Tokens</h1>
<p>You will need to have API Export rights for the REDCap project you are looking to export into an R data package. Contact the project owner, system admin, or go through your institution’s REDCap page to acquire an API token.</p>
<p>Remember, your API token is the equivalent of a username/password combination. Thus, you must treat the token with the same, or more, level of security you would treat any username/password combination. <strong>DO NOT PUT THE TOKEN IN PLAIN TEXT!</strong></p>
<p>There are many ways to deal with tokens. One option would be two require the end user to enter the key interactively via <a href="https://cran.r-project.org/package=getPass">getPass</a>, e.g.,</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># a_token &lt;- getPass::getPass()</span></a></code></pre></div>
<p>However, there are at least two issues with this approach:</p>
<ol style="list-style-type: decimal">
<li>It is interactive and cannot be scripted.</li>
<li>Storing the token in an object would make it possible to divulge the token, either accidentally or via malicious intent.</li>
</ol>
<p>A better way to handle API tokens is to use the <a href="https://cran.r-project.org/package=secret">secret</a>. We encourage the reader to read the “secrets” vignette. <code>vignette(topic = &quot;secrets&quot;, package = &quot;secret&quot;)</code></p>
<p>We suggest the reader set up a vault with their API token as a secret. Accessing the secret in scripts can be done non-interactively and will a lower chance of accidental or malicious divulging of a token.</p>
<p>For the rest of this vignette we will use <code>secret::get_secret()</code> to assess a REDCap API token.</p>
<div id="namespaces-options-and-system-environment-variables" class="section level2">
<h2><span class="header-section-number">1.1</span> Namespaces, Options, and System Environment Variables</h2>
<p>For this example we will load and attach the following namespaces and set several options and system environment variables.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="kw">library</span>(REDCapExporter)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">library</span>(data.table)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="kw">library</span>(secret)</a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">## Registered S3 method overwritten by 'openssl':</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">##   method      from</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">##   print.bytes Rcpp</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="kw">library</span>(qwraps2)</a>
<a class="sourceLine" id="cb2-9" data-line-number="9"></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="kw">options</span>(<span class="st">&quot;datatable.print.topn&quot;</span>  =<span class="st"> </span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="kw">options</span>(<span class="st">&quot;datatable.print.nrows&quot;</span> =<span class="st"> </span><span class="dv">6</span>)</a>
<a class="sourceLine" id="cb2-12" data-line-number="12"></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co"># Set the private key needed to access the vault, if needed.</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="kw">Sys.setenv</span>(<span class="dt">USER_KEY =</span> <span class="st">&quot;~/.ssh/vaults&quot;</span>)</a>
<a class="sourceLine" id="cb2-15" data-line-number="15"></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co"># REDCap API uri and token</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="kw">Sys.setenv</span>(<span class="dt">REDCap_API_uri =</span> <span class="st">&quot;https://redcap.ucdenver.edu/api/&quot;</span>)</a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="kw">Sys.setenv</span>(<span class="dt">REDCap_API_TOKEN =</span> <span class="kw">get_secret</span>(<span class="st">&quot;2000_2001_Avalanche&quot;</span>))</a>
<a class="sourceLine" id="cb2-19" data-line-number="19"></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="co"># Set the option the format the data will be returned in.  Possible values are</span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="co"># 'csv', 'xml', or 'json'.   Methods to build data sets from csv and json have</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="co"># been built, xml is not yet supported.  csv is the default format.</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="kw">Sys.getenv</span>(<span class="st">&quot;REDCap_API_format&quot;</span>)</a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="co">## [1] &quot;csv&quot;</span></a></code></pre></div>
</div>
</div>
<div id="general-tools" class="section level1">
<h1><span class="header-section-number">2</span> General Tools</h1>
<p>The <em>REDCapExporter</em> package provides several functions and methods which the user may find useful. These functions and methods are used within the package to export and create a R data package. Use of the methods for specific projects, say exporting data from a REDCap project for routine reports or interim analyses.</p>
<div id="specific-export-methods" class="section level2">
<h2><span class="header-section-number">2.1</span> Specific Export Methods</h2>
<p>The method <code>export_content</code> can be used to export specific parts of a REDCap project. Three of the arguments, <code>uri</code>, <code>token</code>, and <code>format</code>, passed to <code>export_content</code>, if omitted, will default to the system environment variables. Thus, only the <code>content</code> argument must be defined by the user. Additional arguments for the API are passed via the <code>...</code>. Check your specific REDCap API documentation.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">str</span>(export_content)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="co">## function (uri, token, content, format, ...)</span></a></code></pre></div>
<p>For example, the project information and project metadata can be obtained via:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">avs_raw_project_info &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;project&quot;</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">avs_raw_metadata     &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;metadata&quot;</span>)</a></code></pre></div>
<p>The return object from <code>export_content</code> are character strings as you would expect from a call to <code>postForm</code> from the <a href="https://cran.r-project.org/package=RCurl"><em>RCurl</em></a> package. A couple additional attributes have been added. The <code>Sys.time</code> for the call and the class <code>rcer_raw_*</code> where <code>*</code> is replaced by the value of the <code>content</code> argument.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw">str</span>(avs_raw_project_info)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="co">##  'rcer_raw_project' chr &quot;project_id,project_title,creation_time,production_time,in_production,project_language,purpose,purpose_other,pro&quot;| __truncated__</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">##  - attr(*, &quot;Content-Type&quot;)= Named chr [1:2] &quot;text/csv&quot; &quot;utf-8&quot;</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">##   ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;&quot; &quot;charset&quot;</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">##  - attr(*, &quot;accessed&quot;)= POSIXct[1:1], format: &quot;2019-03-12 10:30:48&quot;</span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="kw">str</span>(avs_raw_metadata)</a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">##  'rcer_raw_metadata' chr &quot;field_name,form_name,section_header,field_type,field_label,select_choices_or_calculations,field_note,text_valid&quot;| __truncated__</span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">##  - attr(*, &quot;Content-Type&quot;)= Named chr [1:2] &quot;text/csv&quot; &quot;utf-8&quot;</span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">##   ..- attr(*, &quot;names&quot;)= chr [1:2] &quot;&quot; &quot;charset&quot;</span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">##  - attr(*, &quot;accessed&quot;)= POSIXct[1:1], format: &quot;2019-03-12 10:30:48&quot;</span></a></code></pre></div>
<p>We opted to have <code>export_content</code> return a character string such that the end user can may select the format for the return and use the tool of their choice for creating a <code>data.frame</code> or other objects. However, as you will see in the next section there are default methods for building <code>data.frame</code>s.</p>
</div>
<div id="data-import-tools" class="section level2">
<h2><span class="header-section-number">2.2</span> Data Import Tools</h2>
<p>When working with REDCap data it is likely that you will have more columns than you would want to have to code a data import method for yourself. This is especially true if you need to deal with columns that may look like numeric values but are really categorical. We provide some tools to help with the data import process.</p>
<p>First, you will need to get the project metadata and record.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">avs_raw_metadata &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;metadata&quot;</span>)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2">avs_raw_metadata</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="co">## [1] &quot;field_name,form_name,section_header,field_type,field_label,select_choices_or_calculations,field_note,text_validation_type_or_show_slider_number,text_validation_min,text_validation_max,identifier,branching_logic,required_field,custom_alignment,question_number,matrix_group_name,matrix_ranking,field_annotation\nrecord_id,roster,,text,\&quot;Record ID\&quot;,,,,,,,,,,,,,\nuniform_number,roster,,text,\&quot;Uniform Number\&quot;,,,,,,,,,,,,,\nfirstname,roster,,text,\&quot;First name\&quot;,,,,,,y,,y,,,,,\nlastname,roster,,text,\&quot;Last name\&quot;,,,,,,y,,y,,,,,\nhof,roster,,yesno,\&quot;Hall of Famer\&quot;,,\&quot;As of Spring 2019\&quot;,,,,,,,RH,,,,\nnationality,roster,,text,Nationality,,,,,,,,,,,,,\nposition,roster,,dropdown,Position,\&quot;0, Goal | 1, Left Wing | 2, Right Wing | 3, Center | 4, Defence\&quot;,,,,,,,,,,,,\nbirthdate,roster,,text,Birthdate,,\&quot;Format: M-D-Y\&quot;,date_mdy,,,y,,,,,,,\nheight,roster,,text,Height,,\&quot;in inches\&quot;,integer,60,84,,,,,,,,\nweight,roster,,text,Weight,,\&quot;in lbs\&quot;,integer,100,300,,,,,,,,\nshoots,roster,,dropdown,Shoots,\&quot;0, Left | 1, Right\&quot;,,,,,,\&quot;[position] != 0\&quot;,,,,,,\ncatches,roster,,dropdown,Catches,\&quot;0, Left | 1, Right\&quot;,,,,,,\&quot;[position] = 0\&quot;,,,,,,\nexperience,roster,,text,Experience,,\&quot;years in the league; 0 for rookie year\&quot;,integer,0,30,,,,,,,,\ngp,regular_season_scoring,,text,\&quot;Games played\&quot;,,,integer,0,82,,,,,,,,\ngoals,regular_season_scoring,,text,Goals,,,integer,0,70,,,,,,,,\nassists,regular_season_scoring,,text,Assists,,,integer,0,100,,,,,,,,\npoints,regular_season_scoring,,calc,Points,[goals]+[assists],,,,,,,,,,,,\nplusmn,regular_season_scoring,,text,Plus/Minus,,,integer,,,,,,,,,,\npimi,regular_season_scoring,,text,PIM,,\&quot;penalty minutes\&quot;,integer,,,,,,,,,,\ngoals_ev,regular_season_scoring,\&quot;Goal Scoring\&quot;,text,\&quot;Even Strength Goals\&quot;,,,integer,,,,,,,,,,\ngoals_pp,regular_season_scoring,,text,\&quot;Power Play Goals\&quot;,,,integer,0,,,,,,,,,\ngoals_sh,regular_season_scoring,,text,\&quot;Short Handed Goals\&quot;,,,integer,0,,,,,,,,,\ngoals_gw,regular_season_scoring,,text,\&quot;Game Winning Goals\&quot;,,,integer,0,,,,,,,,,\nassists_ev,regular_season_scoring,Assists,text,\&quot;Even Strength Assistis\&quot;,,,integer,0,,,,,,,,,\nassists_pp,regular_season_scoring,,text,\&quot;Power Play Assists\&quot;,,,integer,0,,,,,,,,,\nassists_sh,regular_season_scoring,,text,\&quot;Short Handed Assists\&quot;,,,integer,0,,,,,,,,,\nshots,regular_season_scoring,Shooting,text,\&quot;Shots on Goal\&quot;,,,integer,0,,,,,,,,,\nshooting_percentage,regular_season_scoring,,calc,\&quot;Shooting percentage\&quot;,\&quot;[goals] / [shots] * 100\&quot;,,,,,,,,,,,,\ntoi,regular_season_scoring,\&quot;Ice Time\&quot;,text,\&quot;Total Time on Ice\&quot;,,,integer,0,,,,,,,,,\natoi,regular_season_scoring,,text,\&quot;Average Ice Time\&quot;,,,time_mm_ss,00:00,59:59,,,,,,,,\nwins,regular_season_goalies,,text,Wins,,,integer,0,82,,\&quot;[position] = 0\&quot;,,,,,,\nlosses,regular_season_goalies,,text,Losses,,,integer,0,82,,\&quot;[position] = 0\&quot;,,,,,,\nties_otl,regular_season_goalies,,text,\&quot;Ties / Overtime losses\&quot;,,,integer,0,82,,\&quot;[position] = 0\&quot;,,,,,,\ngoals_against,regular_season_goalies,,text,\&quot;Goals Against\&quot;,,,integer,0,,,\&quot;[position] = 0\&quot;,,,,,,\nshots_against,regular_season_goalies,,text,\&quot;Shots Against\&quot;,,,integer,0,,,\&quot;[position] = 0\&quot;,,,,,,\nsaves,regular_season_goalies,,text,Saves,,,integer,0,,,\&quot;[position] = 0\&quot;,,,,,,\nsave_percentage,regular_season_goalies,,calc,\&quot;Save percentage\&quot;,\&quot;[saves] / [shots_against]\&quot;,,,,,,\&quot;[position] = 0\&quot;,,,,,,\ngaa,regular_season_goalies,,text,\&quot;Goals Allowed Average\&quot;,,,number,0,,,\&quot;[position] = 0\&quot;,,,,,,\nso,regular_season_goalies,,text,\&quot;Shut outs\&quot;,,,integer,0,,,\&quot;[position] = 0\&quot;,,,,,,\ngp_postseason,post_season_scoring,,text,\&quot;Games played\&quot;,,,integer,0,23,,,y,,,,,\ngoals_postseason,post_season_scoring,,text,Goals,,,integer,0,70,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\nassists_postseason,post_season_scoring,,text,Assists,,,integer,0,100,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\npoints_postseason,post_season_scoring,,calc,Points,[goals_postseason]+[assists_postseason],,,,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\nplusmn_postseason,post_season_scoring,,text,Plus/Minus,,,integer,,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\npimi_postseason,post_season_scoring,,text,PIM,,\&quot;penalty minutes\&quot;,integer,,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\ngoals_ev_postseason,post_season_scoring,\&quot;Goal Scoring\&quot;,text,\&quot;Even Strength Goals\&quot;,,,integer,,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\ngoals_pp_postseason,post_season_scoring,,text,\&quot;Power Play Goals\&quot;,,,integer,0,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\ngoals_sh_postseason,post_season_scoring,,text,\&quot;Short Handed Goals\&quot;,,,integer,0,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\ngoals_gw_postseason,post_season_scoring,,text,\&quot;Game Winning Goals\&quot;,,,integer,0,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\nassists_ev_postseason,post_season_scoring,Assists,text,\&quot;Even Strength Assistis\&quot;,,,integer,0,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\nassists_pp_postseason,post_season_scoring,,text,\&quot;Power Play Assists\&quot;,,,integer,0,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\nassists_sh_postseason,post_season_scoring,,text,\&quot;Short Handed Assists\&quot;,,,integer,0,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\nshots_postseason,post_season_scoring,Shooting,text,\&quot;Shots on Goal\&quot;,,,integer,0,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\nshooting_percentage_postseason,post_season_scoring,,calc,\&quot;Shooting percentage\&quot;,\&quot;[goals_postseason] / [shots_postseason] * 100\&quot;,,,,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\ntoi_postseason,post_season_scoring,\&quot;Ice Time\&quot;,text,\&quot;Total Time on Ice\&quot;,,,integer,0,,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\natoi_postseason,post_season_scoring,,text,\&quot;Average Ice Time\&quot;,,,time_mm_ss,00:00,59:59,,\&quot;[gp_postseason] &gt;0\&quot;,,,,,,\nwins_postseason,post_season_goalies_2,,text,Wins,,,integer,0,23,,\&quot;[position] = '0' and [gp_postseason] &gt; 0\&quot;,,,,,,\nlosses_postseason,post_season_goalies_2,,text,Losses,,,integer,0,23,,\&quot;[position] = '0' and [gp_postseason] &gt; 0\&quot;,,,,,,\nties_otl_postseason,post_season_goalies_2,,text,\&quot;Ties / Overtime losses\&quot;,,,integer,0,23,,\&quot;[position] = '0' and [gp_postseason] &gt; 0\&quot;,,,,,,\ngoals_allowed_postseason,post_season_goalies_2,,text,\&quot;Goals Allowed\&quot;,,,integer,0,,,\&quot;[position] = '0' and [gp_postseason] &gt; 0\&quot;,,,,,,\nsaves_postseason,post_season_goalies_2,,text,Saves,,,integer,0,,,\&quot;[position] = '0' and [gp_postseason] &gt; 0\&quot;,,,,,,\nsave_percentage_postseason,post_season_goalies_2,,text,\&quot;Save percentage\&quot;,,,number,0,,,\&quot;[position] = '0' and [gp_postseason] &gt; 0\&quot;,,,,,,\ngaa_postseason,post_season_goalies_2,,text,\&quot;Goals Allowed Average\&quot;,,,number,0,,,\&quot;[position] = '0' and [gp_postseason] &gt; 0\&quot;,,,,,,\nso_postseason,post_season_goalies_2,,text,\&quot;Shut outs\&quot;,,,integer,0,,,\&quot;[position] = '0' and [gp_postseason] &gt; 0\&quot;,,,,,,\n&quot;</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="co">## attr(,&quot;Content-Type&quot;)</span></a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="co">##               charset </span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co">## &quot;text/csv&quot;    &quot;utf-8&quot; </span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7"><span class="co">## attr(,&quot;accessed&quot;)</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="co">## [1] &quot;2019-03-12 10:30:49 MDT&quot;</span></a>
<a class="sourceLine" id="cb6-9" data-line-number="9"><span class="co">## attr(,&quot;class&quot;)</span></a>
<a class="sourceLine" id="cb6-10" data-line-number="10"><span class="co">## [1] &quot;rcer_raw_metadata&quot; &quot;character&quot;</span></a>
<a class="sourceLine" id="cb6-11" data-line-number="11"></a>
<a class="sourceLine" id="cb6-12" data-line-number="12">avs_raw_record   &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;record&quot;</span>)</a>
<a class="sourceLine" id="cb6-13" data-line-number="13">avs_raw_record</a>
<a class="sourceLine" id="cb6-14" data-line-number="14"><span class="co">## [1] &quot;record_id,uniform_number,firstname,lastname,hof,nationality,position,birthdate,height,weight,shoots,catches,experience,roster_complete,gp,goals,assists,points,plusmn,pimi,goals_ev,goals_pp,goals_sh,goals_gw,assists_ev,assists_pp,assists_sh,shots,shooting_percentage,toi,atoi,regular_season_scoring_complete,wins,losses,ties_otl,goals_against,shots_against,saves,save_percentage,gaa,so,regular_season_goalies_complete,gp_postseason,goals_postseason,assists_postseason,points_postseason,plusmn_postseason,pimi_postseason,goals_ev_postseason,goals_pp_postseason,goals_sh_postseason,goals_gw_postseason,assists_ev_postseason,assists_pp_postseason,assists_sh_postseason,shots_postseason,shooting_percentage_postseason,toi_postseason,atoi_postseason,post_season_scoring_complete,wins_postseason,losses_postseason,ties_otl_postseason,goals_allowed_postseason,saves_postseason,save_percentage_postseason,gaa_postseason,so_postseason,post_season_goalies_2_complete\n1,1,David,Aebischer,0,Swiss,0,1978-02-07,73,185,,0,0,2,26,0,1,1,0,0,0,0,0,0,,,,0,0,1393,53:34,2,12,7,3,52,538,486,0.9033457249070632,2.24,3,2,1,0,0,0,0,0,0,0,0,0,,,,0,,1,00:32,2,0,0,,0,0,0,0,0,2\n2,46,Yuri,Babenko,0,USSR,3,1978-01-02,73,200,0,,0,2,3,0,0,0,0,0,0,0,0,0,0,0,0,2,0,32,10:34,2,,,,,,,,,,2,0,,,,,,,,,,,,,,,,,2,,,,,,,,,2\n3,45,Rick,Berry,0,Canada,4,1978-11-04,74,210,0,,0,2,19,0,4,4,5,38,0,0,0,0,4,0,0,10,0,231,12:08,2,,,,,,,,,,2,0,,,,,,,,,,,,,,,,,2,,,,,,,,,2\n4,4,Rob,Blake,1,Canada,4,1969-12-10,76,220,1,,11,2,13,2,8,10,11,8,1,1,0,1,6,2,0,44,4.545454545454546,339,26:03,2,,,,,,,,,,2,23,6,13,19,6,16,3,3,0,0,,,,83,7.228915662650602,677,29:26,2,,,,,,,,,2\n5,77,Ray,Bourque,1,Canada,4,1960-12-28,71,219,0,,21,2,80,7,52,59,25,48,3,2,2,0,21,31,0,216,3.2407407407407405,2088,26:06,2,,,,,,,,,,2,21,4,6,10,9,12,1,3,0,1,,,,49,8.16326530612245,599,28:32,2,,,,,,,,,2\n6,7,Greg,\&quot;de Vries\&quot;,0,Canada,4,1973-01-04,74,205,0,,5,2,79,5,12,17,23,51,5,0,0,0,11,0,1,76,6.578947368421052,1351,17:06,2,,,,,,,,,,2,23,0,1,1,5,20,0,0,0,0,,,,20,0,328,14:17,2,,,,,,,,,2\n7,18,Adam,Deadmarsh,0,Canada,2,1975-05-10,72,205,1,,6,2,39,13,13,26,-2,59,6,7,0,2,7,6,0,86,15.11627906976744,687,17:38,2,,,,,,,,,,2,0,,,,,,,,,,,,,,,,,2,,,,,,,,,2\n8,11,Chris,Dingman,0,Canada,1,1976-07-06,76,235,0,,3,2,41,1,1,2,-3,108,1,0,0,0,1,0,0,33,3.0303030303030303,264,06:26,2,,,,,,,,,,2,16,0,4,4,3,14,0,0,0,0,,,,8,0,101,06:18,2,,,,,,,,,2\n9,37,Chris,Drury,0,USA,1,1976-08-20,70,191,1,,2,2,71,24,41,65,6,47,13,11,0,5,22,18,0,204,11.76470588235294,1281,18:03,2,,,,,,,,,,2,23,11,5,16,5,4,9,2,0,2,,,,62,17.741935483870968,439,19:06,2,,,,,,,,,2\n10,52,Adam,Foote,0,Canada,4,1971-07-10,74,220,1,,9,2,35,3,12,15,6,42,1,1,1,1,7,5,0,59,5.084745762711865,888,25:22,2,,,,,,,,,,2,23,3,4,7,5,47,2,1,0,1,,,,28,10.714285714285714,652,28:22,2,,,,,,,,,2\n11,21,Peter,Forsberg,1,Sweeden,3,1973-07-20,72,205,0,,6,2,73,27,62,89,23,54,12,12,2,5,34,24,4,178,15.168539325842698,1518,20:48,2,,,,,,,,,,2,11,4,10,14,5,6,3,1,0,2,,,,23,17.391304347826086,241,21:55,2,,,,,,,,,2\n12,5,Alex,Gusarov,0,USSR,4,1964-07-08,75,185,0,,10,2,9,0,1,1,2,6,0,0,0,0,1,0,0,4,0,135,14:59,2,,,,,,,,,,2,0,,,,,,,,,,,,,,,,,2,,,,,,,,,2\n13,23,Milan,Hejduk,0,Czechoslovakia,2,1976-02-14,72,190,1,,2,2,80,41,38,79,32,36,28,12,1,9,21,15,2,213,19.248826291079812,1589,19:52,2,,,,,,,,,,2,23,7,16,23,8,6,3,4,0,1,,,,51,13.725490196078432,496,21:33,2,,,,,,,,,2\n14,13,Dan,Hinote,0,USA,3,1977-01-30,72,187,1,,1,2,76,5,10,15,1,51,4,1,0,1,8,2,0,69,7.246376811594203,787,10:21,2,,,,,,,,,,2,23,2,4,6,4,21,2,0,0,0,,,,16,12.5,192,08:22,2,,,,,,,,,2\n15,24,Jon,Klemm,0,Canada,4,1970-01-08,74,205,1,,8,2,78,4,11,15,22,54,2,2,0,2,6,3,2,97,4.123711340206185,1554,19:56,2,,,,,,,,,,2,22,1,2,3,7,16,1,0,0,1,,,,14,7.142857142857142,357,16:15,2,,,,,,,,,2\n16,9,Brad,Larsen,0,Canada,1,1977-06-28,72,210,0,,1,2,9,0,0,0,1,0,0,0,0,0,0,0,0,3,0,84,09:17,2,,,,,,,,,,2,0,,,,,,,,,,,,,,,,,2,,,,,,,,,2\n17,29,Eric,Messier,0,Canada,1,1973-10-29,74,195,0,,4,2,64,5,7,12,-3,26,5,0,0,1,7,0,0,60,8.333333333333332,786,12:16,2,,,,,,,,,,2,23,2,2,4,0,14,2,0,0,0,,,,20,10,374,16:16,2,,,,,,,,,0\n18,3,Aaron,Miller,0,USA,4,1971-08-11,75,210,1,,7,2,56,4,9,13,19,29,4,0,0,0,8,0,1,49,8.16326530612245,1032,18:25,2,,,,,,,,,,2,0,,,,,,,,,,,,,,,,,2,,,,,,,,,2\n19,2,Bryan,Muir,0,Canada,4,1973-06-08,75,224,0,,4,2,8,0,0,0,0,4,0,0,0,0,0,0,0,3,0,66,08:14,2,,,,,,,,,,2,3,0,0,0,0,0,0,0,0,0,,,,0,,10,03:15,2,,,,,,,,,2\n20,39,Ville,Nieminen,0,Finland,1,1977-04-06,71,200,0,,1,2,50,14,8,22,8,38,12,2,0,3,5,3,0,68,20.588235294117645,622,12:26,2,,,,,,,,,,2,23,4,6,10,-1,20,1,3,0,1,,,,39,10.256410256410255,326,14:10,2,,,,,,,,,2\n21,27,Scott,Parker,0,USA,2,1978-01-29,77,240,1,,10,2,69,2,3,5,-2,155,2,0,0,1,3,0,0,35,5.714285714285714,394,05:42,2,,,,,,,,,,2,4,0,0,0,0,2,0,0,0,0,,,,0,,9,02:12,2,,,,,,,,,2\n22,25,Shjon,Podein,0,USA,2,1968-03-05,74,200,0,,8,2,82,15,17,32,7,68,15,0,0,3,17,0,0,137,10.948905109489052,1180,14:23,2,,,,,,,,,,2,23,2,3,5,3,14,2,0,0,1,,,,16,12.5,345,14:59,2,,,,,,,,,2\n23,4-44,Nolan,Pratt,0,Canda,4,1975-08-14,75,207,0,,4,2,46,1,2,3,2,40,1,0,0,1,2,0,0,26,3.8461538461538463,452,09:50,2,,,,,,,,,,2,0,,,,,,,,,,,,,,,,,2,,,,,,,,,2\n24,63,Joel,Prpic,0,Canada,3,1974-09-25,78,225,0,,2,2,3,0,0,0,0,2,0,0,0,0,0,0,0,0,,29,09:47,2,,,,,,,,,,2,0,,,,,,,,,,,,,,,,,2,,,,,,,,,2\n25,14,Dave,Reid,0,Canada,2,1964-05-15,73,217,0,,17,2,73,1,9,10,1,21,1,0,0,0,8,0,1,66,1.5151515151515151,721,09:53,2,,,,,,,,,,2,18,0,4,4,2,6,0,0,0,0,,,,8,0,164,09:08,2,,,,,,,,,2\n26,28,Steve,Reinprecht,0,Canada,3,1976-05-07,72,195,0,,1,2,21,3,4,7,-1,2,3,0,0,0,3,0,1,28,10.714285714285714,328,15:38,2,,,,,,,,,,2,22,2,3,5,0,2,2,0,0,0,,,,14,14.285714285714285,267,12:09,2,,,,,,,,,2\n27,33,Patrick,Roy,1,Canada,0,1965-10-05,74,185,,0,16,2,62,0,5,5,0,10,0,0,0,0,,,,0,0,3565,57:30,2,40,13,7,132,1513,1281,0.8466622604097819,2.22,4,2,23,0,1,1,0,0,0,0,0,0,,,,0,,1451,,0,16,7,,41,622,0.934,1.7,4,2\n28,19,Joe,Sakic,1,Canada,3,1969-07-07,71,195,0,,12,2,82,54,64,118,45,30,32,19,3,12,34,27,3,332,16.265060240963855,1887,23:01,2,,,,,,,,,,2,21,13,13,26,6,6,8,5,0,3,,,,79,16.455696202531644,452,21:33,2,,,,,,,,,2\n29,44,Rob,Shearer,0,Canada,3,1976-10-19,70,190,1,,0,2,2,0,0,0,-2,0,0,0,0,0,0,0,0,0,,14,06:45,2,,,,,,,,,,2,0,,,,,,,,,,,,,,,,,2,,,,,,,,,2\n30,41,Martin,Skoula,0,Czechoslovakia,4,1979-10-28,75,226,0,,11,2,82,8,17,25,8,38,5,3,0,2,11,6,0,108,7.4074074074074066,1697,20:41,2,,,,,,,,,,2,23,1,4,5,1,8,1,0,0,0,,,,14,7.142857142857142,276,11:59,2,,,,,,,,,2\n31,40,Alex,Tanguay,0,Canada,1,1979-11-21,73,194,0,,1,2,82,27,50,77,35,37,19,7,1,3,39,11,0,135,20,1464,17:51,2,,,,,,,,,,2,23,6,15,21,13,8,5,1,0,2,,,,37,16.216216216216218,444,19:18,2,,,,,,,,,2\n32,26,Stephane,Yelle,0,Canada,3,1974-05-09,74,182,0,,5,2,50,4,10,14,-3,20,3,0,1,0,10,0,0,54,7.4074074074074066,723,14:28,2,,,,,,,,,,2,23,1,2,3,2,8,1,0,0,1,,,,23,4.3478260869565215,319,13:52,2,,,,,,,,,2\n&quot;</span></a>
<a class="sourceLine" id="cb6-15" data-line-number="15"><span class="co">## attr(,&quot;Content-Type&quot;)</span></a>
<a class="sourceLine" id="cb6-16" data-line-number="16"><span class="co">##               charset </span></a>
<a class="sourceLine" id="cb6-17" data-line-number="17"><span class="co">## &quot;text/csv&quot;    &quot;utf-8&quot; </span></a>
<a class="sourceLine" id="cb6-18" data-line-number="18"><span class="co">## attr(,&quot;accessed&quot;)</span></a>
<a class="sourceLine" id="cb6-19" data-line-number="19"><span class="co">## [1] &quot;2019-03-12 10:30:49 MDT&quot;</span></a>
<a class="sourceLine" id="cb6-20" data-line-number="20"><span class="co">## attr(,&quot;class&quot;)</span></a>
<a class="sourceLine" id="cb6-21" data-line-number="21"><span class="co">## [1] &quot;rcer_raw_record&quot; &quot;character&quot;</span></a></code></pre></div>
<p>There are <code>as.data.frame</code> and <code>as.data.table</code> methods for translating the raw export to the noted class.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">avs_metadata &lt;-<span class="st"> </span><span class="kw">as.data.table</span>(avs_raw_metadata)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">avs_record   &lt;-<span class="st"> </span><span class="kw">as.data.table</span>(avs_raw_record)</a></code></pre></div>
<p>The initial mapping to a <code>data.frame</code> treats all columns as <code>character</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw">all</span>(<span class="kw">sapply</span>(avs_metadata, mode) <span class="op">==</span><span class="st"> &quot;character&quot;</span>)</a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co">## [1] TRUE</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3"><span class="kw">all</span>(<span class="kw">sapply</span>(avs_record, mode) <span class="op">==</span><span class="st"> &quot;character&quot;</span>)</a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="co">## [1] TRUE</span></a></code></pre></div>
<p>To create a <code>data.frame</code> with useful data storage modes in each column you can use <code>format_record</code>. The easiest option is to pass the record and metadata to <code>format_record</code> as shown below.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">temp1 &lt;-<span class="st"> </span><span class="kw">format_record</span>(<span class="dt">record =</span> avs_record, <span class="dt">metadata =</span> avs_raw_metadata)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="kw">str</span>(temp1[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])</a>
<a class="sourceLine" id="cb9-3" data-line-number="3"><span class="co">## 'data.frame':    32 obs. of  10 variables:</span></a>
<a class="sourceLine" id="cb9-4" data-line-number="4"><span class="co">##  $ record_id     : chr  &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...</span></a>
<a class="sourceLine" id="cb9-5" data-line-number="5"><span class="co">##  $ uniform_number: chr  &quot;1&quot; &quot;46&quot; &quot;45&quot; &quot;4&quot; ...</span></a>
<a class="sourceLine" id="cb9-6" data-line-number="6"><span class="co">##  $ firstname     : chr  &quot;David&quot; &quot;Yuri&quot; &quot;Rick&quot; &quot;Rob&quot; ...</span></a>
<a class="sourceLine" id="cb9-7" data-line-number="7"><span class="co">##  $ lastname      : chr  &quot;Aebischer&quot; &quot;Babenko&quot; &quot;Berry&quot; &quot;Blake&quot; ...</span></a>
<a class="sourceLine" id="cb9-8" data-line-number="8"><span class="co">##  $ hof           : int  0 0 0 1 1 0 0 0 0 0 ...</span></a>
<a class="sourceLine" id="cb9-9" data-line-number="9"><span class="co">##  $ nationality   : chr  &quot;Swiss&quot; &quot;USSR&quot; &quot;Canada&quot; &quot;Canada&quot; ...</span></a>
<a class="sourceLine" id="cb9-10" data-line-number="10"><span class="co">##  $ position      : Factor w/ 5 levels &quot;Goal&quot;,&quot;Left Wing&quot;,..: 1 4 5 5 5 5 3 2 2 5 ...</span></a>
<a class="sourceLine" id="cb9-11" data-line-number="11"><span class="co">##  $ birthdate     : Date, format: &quot;1978-02-07&quot; &quot;1978-01-02&quot; ...</span></a>
<a class="sourceLine" id="cb9-12" data-line-number="12"><span class="co">##  $ height        : int  73 73 74 76 71 74 72 76 70 74 ...</span></a>
<a class="sourceLine" id="cb9-13" data-line-number="13"><span class="co">##  $ weight        : int  185 200 210 220 219 205 205 235 191 220 ...</span></a></code></pre></div>
<p>The mode for each column is defined by the function call <code>col_type</code>. The default modes are set via the metadata:</p>
<table>
<thead>
<tr class="header">
<th align="left">Field Type</th>
<th align="left">mode</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Text Fields: <code>field_type == &quot;text&quot;</code></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">   <code>text_validation_type_or_show_slider_number == &quot;number&quot;</code></td>
<td align="left"><code>as.numeric</code></td>
</tr>
<tr class="odd">
<td align="left">   <code>text_validation_type_or_show_slider_number == &quot;integer&quot;</code></td>
<td align="left"><code>as.integer</code></td>
</tr>
<tr class="even">
<td align="left">   <code>text_validation_type_or_show_slider_number == &quot;date_*&quot;</code></td>
<td align="left"><code>lubridate::ymd</code></td>
</tr>
<tr class="odd">
<td align="left">   Default</td>
<td align="left"><code>as.character</code></td>
</tr>
<tr class="even">
<td align="left">Multiple Choice: <code>field_type %in% c(&quot;radio&quot;, &quot;dropdown&quot;)</code></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>as.factor</code></td>
</tr>
<tr class="even">
<td align="left">Calculated Fields: <code>field_type == &quot;calc&quot;</code></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>as.numeric</code></td>
</tr>
<tr class="even">
<td align="left">Yes / No: <code>field_type == &quot;yesno&quot;</code></td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><code>as.integer</code></td>
</tr>
</tbody>
</table>
<p>NOTES:</p>
<ul>
<li><p>Dates can be entered into REDCap as mdy, dmy, or ymd. However, it appears that the record will have the date in ymd format regardless of the input format.</p></li>
<li><p>Multiple Choice fields can be set as <code>character</code> but passing <code>factor = FALSE</code> to <code>col_type</code>.</p></li>
<li><p>Additional defaults are to be defined.</p></li>
</ul>
<p>If the user wishes to define the storage mode for a specific subset of columns we recommend the user call <code>col_type</code> explicitly, store the result, modify as needed, then pass the modified object to <code>format_record</code>. For example, we will set <code>hof</code> which is yes/no variable to <code>boolean</code>, and modify the height column to be in meters instead of inches.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1">ct &lt;-<span class="st"> </span><span class="kw">col_type</span>(avs_metadata)</a>
<a class="sourceLine" id="cb10-2" data-line-number="2">ct<span class="op">$</span>hof &lt;-<span class="st"> </span><span class="kw">expression</span>(<span class="kw">as.logical</span>(<span class="kw">as.integer</span>(hof)))</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">ct<span class="op">$</span>height &lt;-<span class="st"> </span><span class="kw">expression</span>(<span class="fl">0.0254</span> <span class="op">*</span><span class="st"> </span><span class="kw">as.numeric</span>(height))</a>
<a class="sourceLine" id="cb10-4" data-line-number="4"></a>
<a class="sourceLine" id="cb10-5" data-line-number="5">temp2 &lt;-<span class="st"> </span><span class="kw">format_record</span>(avs_raw_record, <span class="dt">col_type =</span> ct)</a>
<a class="sourceLine" id="cb10-6" data-line-number="6"><span class="kw">str</span>(temp2[<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])</a>
<a class="sourceLine" id="cb10-7" data-line-number="7"><span class="co">## 'data.frame':    32 obs. of  10 variables:</span></a>
<a class="sourceLine" id="cb10-8" data-line-number="8"><span class="co">##  $ record_id     : chr  &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...</span></a>
<a class="sourceLine" id="cb10-9" data-line-number="9"><span class="co">##  $ uniform_number: chr  &quot;1&quot; &quot;46&quot; &quot;45&quot; &quot;4&quot; ...</span></a>
<a class="sourceLine" id="cb10-10" data-line-number="10"><span class="co">##  $ firstname     : chr  &quot;David&quot; &quot;Yuri&quot; &quot;Rick&quot; &quot;Rob&quot; ...</span></a>
<a class="sourceLine" id="cb10-11" data-line-number="11"><span class="co">##  $ lastname      : chr  &quot;Aebischer&quot; &quot;Babenko&quot; &quot;Berry&quot; &quot;Blake&quot; ...</span></a>
<a class="sourceLine" id="cb10-12" data-line-number="12"><span class="co">##  $ hof           : logi  FALSE FALSE FALSE TRUE TRUE FALSE ...</span></a>
<a class="sourceLine" id="cb10-13" data-line-number="13"><span class="co">##  $ nationality   : chr  &quot;Swiss&quot; &quot;USSR&quot; &quot;Canada&quot; &quot;Canada&quot; ...</span></a>
<a class="sourceLine" id="cb10-14" data-line-number="14"><span class="co">##  $ position      : Factor w/ 5 levels &quot;Goal&quot;,&quot;Left Wing&quot;,..: 1 4 5 5 5 5 3 2 2 5 ...</span></a>
<a class="sourceLine" id="cb10-15" data-line-number="15"><span class="co">##  $ birthdate     : Date, format: &quot;1978-02-07&quot; &quot;1978-01-02&quot; ...</span></a>
<a class="sourceLine" id="cb10-16" data-line-number="16"><span class="co">##  $ height        : num  1.85 1.85 1.88 1.93 1.8 ...</span></a>
<a class="sourceLine" id="cb10-17" data-line-number="17"><span class="co">##  $ weight        : int  185 200 210 220 219 205 205 235 191 220 ...</span></a></code></pre></div>
</div>
</div>
<div id="exporting-a-redcap-project-to-a-r-data-package." class="section level1">
<h1><span class="header-section-number">3</span> Exporting a REDCap Project to a R Data Package.</h1>
<p>Exporting a REDCap project to a R data package is done with a call to <code>export_redcap_project()</code>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="kw">str</span>(export_redcap_project)</a>
<a class="sourceLine" id="cb11-2" data-line-number="2"><span class="co">## function (uri, token, other_exports, path = NULL, author_roles = NULL, </span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="co">##     verbose = TRUE)</span></a></code></pre></div>
<p>The <code>path</code> argument is a directory on your machine were the R data package is going to be built. For this vignette we will use a temporary directory.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1">temppath &lt;-<span class="st"> </span><span class="kw">tempdir</span>()</a></code></pre></div>
<p>The exported package name and directory will be <code>rcd&lt;project-id&gt;</code>, that is, <code>rcd</code> for ‘REDCap Data’ and the project-id which, for this example is:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">as.data.frame</span>(avs_raw_project_info)<span class="op">$</span>project_id</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="co">## [1] &quot;14465&quot;</span></a>
<a class="sourceLine" id="cb13-3" data-line-number="3">avs_raw_user &lt;-<span class="st"> </span><span class="kw">export_content</span>(<span class="dt">content =</span> <span class="st">&quot;user&quot;</span>)</a>
<a class="sourceLine" id="cb13-4" data-line-number="4">avs_user &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(avs_raw_user)</a></code></pre></div>
<p>Thus we expect the source package to be at</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1">prj_path &lt;-</a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="st">  </span><span class="kw">paste</span>(temppath, <span class="kw">paste0</span>(<span class="st">&quot;rcd&quot;</span>, <span class="kw">as.data.frame</span>(avs_raw_project_info)<span class="op">$</span>project_id), <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>)</a>
<a class="sourceLine" id="cb14-3" data-line-number="3">prj_path</a>
<a class="sourceLine" id="cb14-4" data-line-number="4"><span class="co">## [1] &quot;/tmp/RtmpiCtvy7/rcd14465&quot;</span></a></code></pre></div>
<p>Exporting the project will require you to provide at some information about the users. You need to list at least one of the <code>usernames</code> from the user data and give that person the ‘cre’ role.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="kw">export_redcap_project</span>(<span class="dt">path =</span> temppath,</a>
<a class="sourceLine" id="cb15-2" data-line-number="2">                      <span class="dt">author_roles =</span> <span class="kw">list</span>(<span class="dt">dewittp =</span> <span class="kw">c</span>(<span class="st">&quot;cre&quot;</span>, <span class="st">&quot;aut&quot;</span>)))</a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="co">## Getting Project Info</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="co">## Getting project metadata</span></a>
<a class="sourceLine" id="cb15-5" data-line-number="5"><span class="co">## Getting user data</span></a>
<a class="sourceLine" id="cb15-6" data-line-number="6"><span class="co">## Getting project record</span></a>
<a class="sourceLine" id="cb15-7" data-line-number="7"><span class="co">## Creating source package at /tmp/RtmpiCtvy7/rcd14465</span></a>
<a class="sourceLine" id="cb15-8" data-line-number="8"><span class="co">## Updating rcd14465 documentation</span></a>
<a class="sourceLine" id="cb15-9" data-line-number="9"><span class="co">## First time using roxygen2. Upgrading automatically...</span></a>
<a class="sourceLine" id="cb15-10" data-line-number="10"><span class="co">## Updating roxygen version in /tmp/RtmpiCtvy7/rcd14465/DESCRIPTION</span></a>
<a class="sourceLine" id="cb15-11" data-line-number="11"><span class="co">## Writing NAMESPACE</span></a>
<a class="sourceLine" id="cb15-12" data-line-number="12"><span class="co">## Loading rcd14465</span></a>
<a class="sourceLine" id="cb15-13" data-line-number="13"><span class="co">## Writing project.Rd</span></a>
<a class="sourceLine" id="cb15-14" data-line-number="14"><span class="co">## Writing metadata.Rd</span></a>
<a class="sourceLine" id="cb15-15" data-line-number="15"><span class="co">## Writing user.Rd</span></a>
<a class="sourceLine" id="cb15-16" data-line-number="16"><span class="co">## Writing record.Rd</span></a></code></pre></div>
<p>Let’s look at some of the files which have been placed into the project path. We will start with the DESCRIPTION file.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="kw">read.dcf</span>(<span class="kw">paste</span>(prj_path, <span class="st">&quot;DESCRIPTION&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>t</a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co">##                 [,1]                                                                                                                                                                                                                             </span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3"><span class="co">## Package         &quot;rcd14465&quot;                                                                                                                                                                                                                       </span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="co">## Title           &quot;2000-2001 Colorado Avalanche&quot;                                                                                                                                                                                                   </span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="co">## Version         &quot;2019.03.12.10.30&quot;                                                                                                                                                                                                               </span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="co">## Authors@R       &quot;c(person(given = \&quot;Tell\&quot;, family = \&quot;Bennett\&quot;, email = \&quot;tell.bennett@ucdenver.edu\&quot;, role = c(\&quot;ctb\&quot;)),\nperson(given = \&quot;Peter\&quot;, family = \&quot;DeWitt\&quot;, email = \&quot;peter.dewitt@ucdenver.edu\&quot;, role = c(\&quot;cre\&quot;, \&quot;aut\&quot;)))&quot;</span></a>
<a class="sourceLine" id="cb16-7" data-line-number="7"><span class="co">## Description     &quot;Data and documentation from the REDCap Project.&quot;                                                                                                                                                                                </span></a>
<a class="sourceLine" id="cb16-8" data-line-number="8"><span class="co">## License         &quot;file LICENSE&quot;                                                                                                                                                                                                                   </span></a>
<a class="sourceLine" id="cb16-9" data-line-number="9"><span class="co">## Encoding        &quot;UTF-8&quot;                                                                                                                                                                                                                          </span></a>
<a class="sourceLine" id="cb16-10" data-line-number="10"><span class="co">## LazyData        &quot;true&quot;                                                                                                                                                                                                                           </span></a>
<a class="sourceLine" id="cb16-11" data-line-number="11"><span class="co">## Suggests        &quot;knitr&quot;                                                                                                                                                                                                                          </span></a>
<a class="sourceLine" id="cb16-12" data-line-number="12"><span class="co">## VignetteBuilder &quot;knitr&quot;                                                                                                                                                                                                                          </span></a>
<a class="sourceLine" id="cb16-13" data-line-number="13"><span class="co">## RoxygenNote     &quot;6.1.1&quot;</span></a></code></pre></div>
<p>The package name is as noted above, the version number is worth noting, the version is the year.month.day.hour.minute for when the data was exported from REDCap.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1">check &lt;-<span class="st"> </span>devtools<span class="op">::</span><span class="kw">check</span>(<span class="dt">pkg =</span> prj_path, <span class="dt">quiet =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb17-2" data-line-number="2"><span class="co">## Updating rcd14465 documentation</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="co">## Loading rcd14465</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4">check</a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="co">## ── R CMD check results ───────────────────── rcd14465 2019.03.12.10.30 ────</span></a>
<a class="sourceLine" id="cb17-6" data-line-number="6"><span class="co">## Duration: 14.1s</span></a>
<a class="sourceLine" id="cb17-7" data-line-number="7"><span class="co">## </span></a>
<a class="sourceLine" id="cb17-8" data-line-number="8"><span class="co">## 0 errors ✔ | 0 warnings ✔ | 0 notes ✔</span></a></code></pre></div>
<p>We see that the package passes basic checks and can be installed. Let’s install the package and explore the contents.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="kw">grep</span>(<span class="st">&quot;*.tar.gz&quot;</span>, <span class="kw">list.files</span>(<span class="dt">path =</span> prj_path, <span class="dt">recursive =</span> <span class="ot">TRUE</span>, <span class="dt">full.names =</span> <span class="ot">TRUE</span>), <span class="dt">value =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb18-2" data-line-number="2">                 <span class="dt">lib =</span> temppath)</a>
<a class="sourceLine" id="cb18-3" data-line-number="3"></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="kw">library</span>(rcd14465, <span class="dt">lib.loc =</span> temppath)</a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="kw">data</span>(<span class="dt">package =</span> <span class="st">&quot;rcd14465&quot;</span>)<span class="op">$</span>results</a>
<a class="sourceLine" id="cb18-6" data-line-number="6"><span class="co">##      Package    LibPath           Item       Title</span></a>
<a class="sourceLine" id="cb18-7" data-line-number="7"><span class="co">## [1,] &quot;rcd14465&quot; &quot;/tmp/RtmpiCtvy7&quot; &quot;metadata&quot; &quot;&quot;   </span></a>
<a class="sourceLine" id="cb18-8" data-line-number="8"><span class="co">## [2,] &quot;rcd14465&quot; &quot;/tmp/RtmpiCtvy7&quot; &quot;project&quot;  &quot;&quot;   </span></a>
<a class="sourceLine" id="cb18-9" data-line-number="9"><span class="co">## [3,] &quot;rcd14465&quot; &quot;/tmp/RtmpiCtvy7&quot; &quot;record&quot;   &quot;&quot;   </span></a>
<a class="sourceLine" id="cb18-10" data-line-number="10"><span class="co">## [4,] &quot;rcd14465&quot; &quot;/tmp/RtmpiCtvy7&quot; &quot;user&quot;     &quot;&quot;</span></a></code></pre></div>
<p>The data sets provided on this initial export are:</p>
<ul>
<li><p><code>metadata</code>: project metadata as a <code>data.frame</code>; all columns are characters.</p></li>
<li><p><code>project</code>: project info, a <code>data.frame</code>; all columns are characters.</p></li>
<li><p><code>record</code>: a <code>data.frame</code> based on the defualt <code>format_record</code> call.</p></li>
<li><p><code>user</code>: a <code>data.frame</code> of the user data for the project.</p></li>
</ul>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="kw">data</span>(metadata, record)</a>
<a class="sourceLine" id="cb19-2" data-line-number="2"><span class="kw">all.equal</span>(<span class="dt">target  =</span> <span class="kw">as.data.frame</span>(avs_metadata),</a>
<a class="sourceLine" id="cb19-3" data-line-number="3">          <span class="dt">current =</span> metadata,</a>
<a class="sourceLine" id="cb19-4" data-line-number="4">          <span class="dt">check.attributes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="co">## [1] TRUE</span></a>
<a class="sourceLine" id="cb19-6" data-line-number="6"><span class="kw">all.equal</span>(<span class="dt">target =</span> <span class="kw">format_record</span>(avs_record, metadata),</a>
<a class="sourceLine" id="cb19-7" data-line-number="7">          <span class="dt">current =</span> record,</a>
<a class="sourceLine" id="cb19-8" data-line-number="8">          <span class="dt">check.attributes =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb19-9" data-line-number="9"><span class="co">## [1] TRUE</span></a></code></pre></div>
</div>
<div id="session-info" class="section level1">
<h1><span class="header-section-number">4</span> Session Info</h1>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">print</span>(<span class="kw">sessionInfo</span>(), <span class="dt">local =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="co">## R Under development (unstable) (2019-03-11 r76221)</span></a>
<a class="sourceLine" id="cb20-3" data-line-number="3"><span class="co">## Platform: x86_64-pc-linux-gnu (64-bit)</span></a>
<a class="sourceLine" id="cb20-4" data-line-number="4"><span class="co">## Running under: Debian GNU/Linux 9 (stretch)</span></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"><span class="co">## </span></a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="co">## Matrix products: default</span></a>
<a class="sourceLine" id="cb20-7" data-line-number="7"><span class="co">## BLAS/LAPACK: /usr/lib/libopenblasp-r0.2.19.so</span></a>
<a class="sourceLine" id="cb20-8" data-line-number="8"><span class="co">## </span></a>
<a class="sourceLine" id="cb20-9" data-line-number="9"><span class="co">## attached base packages:</span></a>
<a class="sourceLine" id="cb20-10" data-line-number="10"><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></a>
<a class="sourceLine" id="cb20-11" data-line-number="11"><span class="co">## </span></a>
<a class="sourceLine" id="cb20-12" data-line-number="12"><span class="co">## other attached packages:</span></a>
<a class="sourceLine" id="cb20-13" data-line-number="13"><span class="co">## [1] rcd14465_2019.03.12.10.30 qwraps2_0.4.0            </span></a>
<a class="sourceLine" id="cb20-14" data-line-number="14"><span class="co">## [3] secret_1.0.0              magrittr_1.5             </span></a>
<a class="sourceLine" id="cb20-15" data-line-number="15"><span class="co">## [5] data.table_1.12.0         REDCapExporter_0.0.2     </span></a>
<a class="sourceLine" id="cb20-16" data-line-number="16"><span class="co">## </span></a>
<a class="sourceLine" id="cb20-17" data-line-number="17"><span class="co">## loaded via a namespace (and not attached):</span></a>
<a class="sourceLine" id="cb20-18" data-line-number="18"><span class="co">##  [1] Rcpp_1.0.0        compiler_3.6.0    remotes_2.0.2    </span></a>
<a class="sourceLine" id="cb20-19" data-line-number="19"><span class="co">##  [4] prettyunits_1.0.2 bitops_1.0-6      tools_3.6.0      </span></a>
<a class="sourceLine" id="cb20-20" data-line-number="20"><span class="co">##  [7] testthat_2.0.1    digest_0.6.18     pkgbuild_1.0.2   </span></a>
<a class="sourceLine" id="cb20-21" data-line-number="21"><span class="co">## [10] pkgload_1.0.2     jsonlite_1.6      lubridate_1.7.4  </span></a>
<a class="sourceLine" id="cb20-22" data-line-number="22"><span class="co">## [13] evaluate_0.13     memoise_1.1.0     rlang_0.3.1      </span></a>
<a class="sourceLine" id="cb20-23" data-line-number="23"><span class="co">## [16] rstudioapi_0.9.0  cli_1.0.1         commonmark_1.7   </span></a>
<a class="sourceLine" id="cb20-24" data-line-number="24"><span class="co">## [19] curl_3.3          yaml_2.2.0        xopen_1.0.0      </span></a>
<a class="sourceLine" id="cb20-25" data-line-number="25"><span class="co">## [22] xfun_0.5          xml2_1.2.0        roxygen2_6.1.1   </span></a>
<a class="sourceLine" id="cb20-26" data-line-number="26"><span class="co">## [25] withr_2.1.2       stringr_1.4.0     knitr_1.22       </span></a>
<a class="sourceLine" id="cb20-27" data-line-number="27"><span class="co">## [28] fs_1.2.6          desc_1.2.0        askpass_1.1      </span></a>
<a class="sourceLine" id="cb20-28" data-line-number="28"><span class="co">## [31] devtools_2.0.1    rprojroot_1.3-2   glue_1.3.0       </span></a>
<a class="sourceLine" id="cb20-29" data-line-number="29"><span class="co">## [34] R6_2.4.0          processx_3.3.0    rcmdcheck_1.3.2  </span></a>
<a class="sourceLine" id="cb20-30" data-line-number="30"><span class="co">## [37] rmarkdown_1.11    sessioninfo_1.1.1 purrr_0.3.1      </span></a>
<a class="sourceLine" id="cb20-31" data-line-number="31"><span class="co">## [40] callr_3.1.1       usethis_1.4.0     backports_1.1.3  </span></a>
<a class="sourceLine" id="cb20-32" data-line-number="32"><span class="co">## [43] ps_1.3.0          htmltools_0.3.6   assertthat_0.2.0 </span></a>
<a class="sourceLine" id="cb20-33" data-line-number="33"><span class="co">## [46] stringi_1.3.1     RCurl_1.95-4.12   openssl_1.2.2    </span></a>
<a class="sourceLine" id="cb20-34" data-line-number="34"><span class="co">## [49] crayon_1.3.4</span></a>
<a class="sourceLine" id="cb20-35" data-line-number="35"><span class="co">#</span></a></code></pre></div>
</div>



<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
