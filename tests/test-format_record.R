library(REDCapExporter)

DF <- format_record(avs_raw_core)
classes <-
  c(record_id = "character",
    uniform_number = "character",
    firstname = "character",
    lastname = "character",
    hof = "integer",
    nationality = "character",
    position = "factor",
    birthdate = "Date",
    first_nhl_game = "Date",
    last_nhl_game = "Date",
    height = "integer",
    weight = "integer",
    shoots = "factor",
    catches = "factor",
    experience = "integer",
    roster_complete = "factor",
    gp = "integer",
    goals = "integer",
    assists = "integer",
    points = "numeric",
    plusmn = "integer",
    pimi = "integer",
    goals_ev = "integer",
    goals_pp = "integer",
    goals_sh = "integer",
    goals_gw = "integer",
    assists_ev = "integer",
    assists_pp = "integer",
    assists_sh = "integer",
    shots = "integer",
    shooting_percentage = "numeric",
    toi = "integer",
    atoi = "Period",
    regular_season_scoring_complete = "factor",
    wins = "integer",
    losses = "integer",
    ties_otl = "integer",
    goals_against = "integer",
    shots_against = "integer",
    saves = "integer",
    save_percentage = "numeric",
    gaa = "numeric",
    so = "integer",
    regular_season_goalies_complete = "factor",
    gp_postseason = "integer",
    goals_postseason = "integer",
    assists_postseason = "integer",
    points_postseason = "numeric",
    plusmn_postseason = "integer",
    pimi_postseason = "integer",
    goals_ev_postseason = "integer",
    goals_pp_postseason = "integer",
    goals_sh_postseason = "integer",
    goals_gw_postseason = "integer",
    assists_ev_postseason = "integer",
    assists_pp_postseason = "integer",
    assists_sh_postseason = "integer",
    shots_postseason = "integer",
    shooting_percentage_postseason = "numeric",
    toi_postseason = "integer",
    atoi_postseason = "Period",
    post_season_scoring_complete = "factor",
    wins_postseason = "integer",
    losses_postseason = "integer",
    ties_otl_postseason = "integer",
    goals_allowed_postseason = "integer",
    saves_postseason = "integer",
    save_percentage_postseason = "numeric",
    gaa_postseason = "numeric",
    so_postseason = "integer",
    post_season_goalies_complete = "factor",
    eg_checkbox___cb01 = "integer",
    eg_checkbox___cb02 = "integer",
    eg_checkbox___cb03 = "integer",
    extras_complete = "factor"
  )

stopifnot(identical(sapply(DF, class), classes))

#(sapply(DF, class) == classes) |> all()
#names(DF) == names(classes)
