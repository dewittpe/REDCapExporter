<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Automated Construction of R Data Packages from REDCap Projects â€¢ REDCapExporter</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Automated Construction of R Data Packages from REDCap Projects">
<meta name="description" content="Export all data, including metadata, from a REDCap (Research Electronic Data Capture) Project via the REDCap API &lt;https://projectredcap.org/wp-content/resources/REDCapTechnicalOverview.pdf&gt;. The exported (meta)data will be processed and formatted into a stand alone R data package which can be installed and shared between researchers. Several default reports are generated as vignettes in the resulting package.">
<meta property="og:description" content="Export all data, including metadata, from a REDCap (Research Electronic Data Capture) Project via the REDCap API &lt;https://projectredcap.org/wp-content/resources/REDCapTechnicalOverview.pdf&gt;. The exported (meta)data will be processed and formatted into a stand alone R data package which can be installed and shared between researchers. Several default reports are generated as vignettes in the resulting package.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">REDCapExporter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/api.html">Export Data via the REDCap API</a></li>
    <li><a class="dropdown-item" href="articles/formatting.html">Formatting Data Exported from REDCap</a></li>
    <li><a class="dropdown-item" href="articles/redcap2package.html">REDCap Projects as R Data Packages</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dewittpe/REDCapExporter/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="redcapexporter">REDCapExporter<a class="anchor" aria-label="anchor" href="#redcapexporter"></a>
</h1></div>
<!-- badges: start -->

<p>The goal of REDCapExporter is to provide a simple and relatively secure way to downloading and formatting data from a <a href="https://www.project-redcap.org/" class="external-link">REDCap</a> project.</p>
<p>While REDCap (<strong>R</strong>esearch <strong>E</strong>lectronic <strong>D</strong>ata <strong>Cap</strong>ture) is a fantastic tool for data capture, the dissemination of the collected data in a format that multiple data analysis can easily access and share can be improved. The REDCapExporter package provides a set of tools to provide easy access to REDCap data via the REDCap API with two aims:</p>
<ol style="list-style-type: decimal">
<li>Scripting functions to allow for easy access to, and formatting of, a data set within a REDCap project.</li>
<li>Produce a skeleton R data package to house, document, archive, and disseminate a data set.</li>
</ol>
<p><em>Why is REDCapExporter needed?</em></p>
<p>If you are familiar with REDCap then you know that exporting the data from the web interface is straight forward, easy to use, and powerful. However, there is a fair amount of (meta) data that could be valuable to data analysis which is not included in the export. The REDCapExporter aims to report and cross link the meta data, collected data, and (expanded) documentation in one location. The resulting <code>.tar.gz</code> data package is easy to disseminate.</p>
<p>Version control of data is difficult. Small data files can easily be added to git repositories, and larger files using git-lfs. Subversion can handle larger data sets with its own pros and cons. However, adding the data to multiple repositories will consume a lot of disk space unnecessarily and there are issues arising from sensitive data being versioned and while using public repository hosts. A R data package will provide an implicit versioning of data while keeping only one copy of the data on the local disk.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the released version from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"REDCapExporter"</span>, repos <span class="op">=</span> <span class="st">"https://cran.rstudio.com"</span><span class="op">)</span></span></code></pre></div>
<p>You can install the development version of REDCapExporter from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"dewittpe/REDCapExporter"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="expected-use-case">Expected Use Case<a class="anchor" aria-label="anchor" href="#expected-use-case"></a>
</h2>
<p>You have multiple REDCap projects and you have an API token for each project allowing for data download.</p>
<div class="section level3">
<h3 id="dealing-with-api-tokens">Dealing with API Tokens<a class="anchor" aria-label="anchor" href="#dealing-with-api-tokens"></a>
</h3>
<p>There are several ways to do this. A simple way is based on the <a href="https://keyring.r-lib.org/" class="external-link">keyring</a> package.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dewittpe/REDCapExporter" class="external-link">REDCapExporter</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check if a file based keyring called "REDCapExporter" exists and create one if</span></span>
<span><span class="co"># not.</span></span>
<span><span class="fu"><a href="reference/REDCapExporter_keyring.html">REDCapExporter_keyring_check</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add, or verify existance of, an API token for PROJECT1</span></span>
<span><span class="fu"><a href="reference/REDCapExporter_keyring.html">REDCapExporter_add_api_token</a></span><span class="op">(</span><span class="st">"PROJECT1"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add, or verify existance of, an API token for PROJECT2</span></span>
<span><span class="fu"><a href="reference/REDCapExporter_keyring.html">REDCapExporter_add_api_token</a></span><span class="op">(</span><span class="st">"PROJECT2"</span><span class="op">)</span></span></code></pre></div>
<p>To set the token to use for the current session, set an environmental variable and use <code>REDCapExporter_get_api_token</code> to retrieve the token from the keyring.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>REDCap_API_TOKEN <span class="op">=</span> <span class="fu"><a href="reference/REDCapExporter_keyring.html">REDCapExporter_get_api_token</a></span><span class="op">(</span><span class="st">"PROJECT1"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="export-data-from-redcap">Export data from REDCap<a class="anchor" aria-label="anchor" href="#export-data-from-redcap"></a>
</h3>
<p>You may set one more environmental variable, or specify it explicitly in the call to <code>export_core</code>. It is recommended to set the environmental variable for easy of use.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>REDCap_API_URI <span class="op">=</span> <span class="st">"https://&lt;your-redcap-domain&gt;/api/"</span><span class="op">)</span></span></code></pre></div>
<p>Export the data from REDCap and format it, based on the metadata of the REDCap project via:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">project1_redcap_core</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/export_core.html">export_core</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">project1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/format_record.html">format_record</a></span><span class="op">(</span><span class="va">project1_redcap_core</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h3>
<p>The example data provided in this package are statistics from the 2000-2001 National Hockey League Stanley Cup Champion Colorado Avalanche. The data was transcribed from <a href="https://www.hockey-reference.com/teams/COL/2001.html" class="external-link">Hockey Reference</a> into a REDCap Project hosed at the University of Colorado Denver.</p>
<p>The data set <code>avs_raw_core</code> was generated via the following, after setting up my keyring and token as described above.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/dewittpe/REDCapExporter" class="external-link">REDCapExporter</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>REDCap_API_URI <span class="op">=</span> <span class="st">"https://redcap.ucdenver.edu/api/"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>REDCap_API_TOKEN <span class="op">=</span> <span class="fu"><a href="reference/REDCapExporter_keyring.html">REDCapExporter_get_api_token</a></span><span class="op">(</span><span class="st">"2000_2001_Avalanche"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">avs_raw_core</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/export_core.html">export_core</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Getting Project Info</span></span>
<span><span class="co">#&gt; Getting project metadata</span></span>
<span><span class="co">#&gt; Getting user data</span></span>
<span><span class="co">#&gt; Getting project record</span></span>
<span><span class="va">avsDF</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/format_record.html">format_record</a></span><span class="op">(</span><span class="va">avs_raw_core</span><span class="op">)</span></span></code></pre></div>
<p>A simple summary statistic from the data set: the number of goals scored by position:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/stats/aggregate.html" class="external-link">aggregate</a></span><span class="op">(</span><span class="va">goals</span> <span class="op">~</span> <span class="va">position</span>, data <span class="op">=</span> <span class="va">avsDF</span>, FUN <span class="op">=</span> <span class="va">sum</span><span class="op">)</span></span>
<span><span class="co">#&gt;     position goals</span></span>
<span><span class="co">#&gt; 1       Goal     0</span></span>
<span><span class="co">#&gt; 2  Left Wing    71</span></span>
<span><span class="co">#&gt; 3 Right Wing    72</span></span>
<span><span class="co">#&gt; 4     Center    93</span></span>
<span><span class="co">#&gt; 5    Defence    34</span></span></code></pre></div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=REDCapExporter" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/dewittpe/REDCapExporter/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-2" class="external-link">GPL-2</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing REDCapExporter</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Peter DeWitt <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-6391-0795" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://app.codecov.io/gh/dewittpe/REDCapExporter" class="external-link"><img src="https://codecov.io/gh/dewittpe/REDCapExporter/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://cran.r-project.org/package=REDCapExporter" class="external-link"><img src="https://www.r-pkg.org/badges/version/REDCapExporter" alt="CRAN_Status_Badge"></a></li>
<li><a href="http://www.r-pkg.org/pkg/REDCapExporter" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/REDCapExporter" alt="CRAN RStudio mirror downloads"></a></li>
<li><a href="http://www.r-pkg.org/pkg/REDCapExporter" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/REDCapExporter" alt="CRAN RStudio mirror downloads"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Peter DeWitt.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
